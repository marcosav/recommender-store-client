{"version":3,"sources":["locales/es/translation.js","locales/en/translation.js","i18n.ts","types.ts","utils/AuthRequestInterceptor.ts","utils/SessionStorageManager.ts","utils/ServerErrorHandler.ts","utils/HttpStatusCodes.ts","utils/Constants.ts","utils/ValidationTools.ts","utils/DateUtils.ts","api/BaseAPI.ts","api/AuthAPI.ts","api/ProductAPI.ts","api/UserAPI.ts","api/CartAPI.ts","api/FavoriteAPI.ts","api/ResourceAPI.ts","api/ProductReportAPI.ts","api/OrdersAPI.ts","api/FeedbackAPI.ts","api/RecommenderAPI.ts","services/UserService.tsx","services/ProductService.tsx","services/FavoriteService.tsx","services/CartService.tsx","services/session/SessionService.tsx","services/session/SessionStorage.ts","services/session/AuthService.ts","services/session/index.ts","services/ResourceService.tsx","services/ProductReportService.tsx","services/OrdersService.tsx","services/FeedbackService.tsx","containers/Login/Login.style.ts","components/NavegationBar/NavigationBar.style.ts","components/NavegationBar/Logo.tsx","components/NavegationBar/NavigationBar.tsx","components/NavegationBar/index.ts","components/NavegationBar/NavigationBarWrapper.tsx","components/ProductHolder/Product.style.ts","components/ProductHolder/Product.tsx","components/ProductHolder/index.ts","components/UserHolder/UserHolder.style.ts","components/UserHolder/UserHolder.tsx","components/UserHolder/index.ts","components/PageContainer/PageContainer.style.ts","components/PageContainer/PageContainer.tsx","components/PageContainer/index.ts","components/ProductSlider/ProductSlider.style.ts","components/ProductSlider/ProductSlider.tsx","components/ProductSlider/index.ts","components/ProductImg/ProductImg.tsx","components/ProductImg/index.ts","components/ReportDialog/ReportDialog.tsx","components/ReportDialog/index.ts","components/utils/PasswordField/index.ts","components/utils/PasswordField/PasswordField.tsx","components/utils/ErrorHandler/ErrorHandler.tsx","components/utils/CircularProgressIndicator/index.ts","components/utils/CircularProgressIndicator/CircularProgressIndicator.tsx","components/utils/ErrorAlert/ErrorAlert.tsx","components/utils/ErrorAlert/index.ts","components/utils/ErrorAlert/ErrorWrapperClass.tsx","components/utils/ContentWarn/ContentWarn.tsx","components/utils/ContentWarn/index.ts","components/utils/Loading/index.ts","components/utils/Loading/Loading.tsx","containers/Login/index.ts","containers/Login/Login.tsx","containers/Signup/Signup.style.ts","containers/Signup/components/SignupForm/Signup.style.ts","containers/Signup/components/SignupForm/index.ts","containers/Signup/components/SignupForm/SignupForm.tsx","containers/Signup/components/SignupTitle/SignupTitle.style.ts","containers/Signup/components/SignupTitle/index.ts","containers/Signup/components/SignupTitle/SignupTitle.tsx","containers/Signup/components/EditTitle/EditTitle.style.ts","containers/Signup/components/EditTitle/index.ts","containers/Signup/components/EditTitle/EditTitle.tsx","containers/Signup/index.ts","containers/Signup/Signup.tsx","containers/Home/Home.style.ts","services/RecommenderService.tsx","containers/Home/index.ts","containers/Home/Home.tsx","containers/PageNotFound.tsx","containers/ProductPage/ProductPage.style.ts","containers/ProductPage/components/ProductInfo/ProductInfo.style.ts","containers/ProductPage/components/index.ts","containers/ProductPage/components/ProductInfo/ProductInfo.tsx","containers/ProductPage/index.ts","containers/ProductPage/ProductPage.tsx","containers/ProductEdit/ProductEdit.style.ts","containers/ProductEdit/components/ProductEditForm/ProductEditForm.style.ts","containers/ProductEdit/components/ProductEditForm/index.ts","containers/ProductEdit/components/ProductEditForm/ProductEditForm.tsx","containers/ProductEdit/index.ts","containers/ProductEdit/ProductEdit.tsx","containers/Logout.tsx","containers/Search/Search.style.ts","containers/Search/Search.tsx","containers/Favorites/Favorites.style.ts","containers/Favorites/index.ts","containers/Favorites/Favorites.tsx","containers/CartPage/CartPage.style.ts","containers/CartPage/components/CartProductHolder/CartProductHolder.style.ts","containers/CartPage/components/CartProductHolder/index.ts","containers/CartPage/components/CartProductHolder/CartProductHolder.tsx","containers/CartPage/components/InvalidCartDialog/index.ts","containers/CartPage/components/InvalidCartDialog/InvalidCartDialog.tsx","containers/CartPage/index.ts","containers/CartPage/CartPage.tsx","containers/VendorProfile/VendorProfile.style.tsx","containers/VendorProfile/components/VendorProfileInfo/VendorProfileInfo.style.ts","containers/VendorProfile/components/index.ts","containers/VendorProfile/components/VendorProfileInfo/VendorProfileInfo.tsx","containers/VendorProfile/index.ts","containers/VendorProfile/VendorProfile.tsx","containers/ReportsPage/ReportsPage.style.ts","containers/ReportsPage/components/index.ts","containers/ReportsPage/components/ReportHolder/ReportHolder.tsx","containers/ReportsPage/index.ts","containers/ReportsPage/ReportsPage.tsx","containers/CheckoutPage/CheckoutPage.style.ts","containers/CheckoutPage/index.ts","containers/CheckoutPage/CheckoutPage.tsx","containers/OrderHistoryPage/OrderHistoryPage.style.ts","containers/OrderHistoryPage/components/OrderHolder/OrderHolder.style.ts","containers/OrderHistoryPage/components/OrderHolder/OrderHolder.tsx","containers/OrderHistoryPage/components/index.ts","containers/OrderHistoryPage/index.ts","containers/OrderHistoryPage/OrderHistoryPage.tsx","layout/BaseLayout.tsx","routes.tsx","themeConfig.ts","App.tsx","reportWebVitals.ts","index.tsx"],"names":["Object","freeze","translation","routes","base","home","search","vendor","cart","product_publish","product","product_edit","login","logout","signup","profile","profile_edit","favorites","reports","checkout","history","404","cancel","nav","header","upload","login_info","signup_info","admin","title","subtitle","field","username","password","incorrect","name","surname","email","repeatedEmail","nickname","repeatedPassword","description","photo_footer","continue","empty","buy","total","items","item","unit","unavailable","no_stock","content","invalid","button","products","vendors","shown","hidden","product_title","edit","no_results","found","filter","date","price_down","price_up","amount","brand","price","stock","category","publish","save","delete","report","body","placeholder","weekly_popular","recommended","reason","finish","success","recent_addresses","no_recent_addresses","loading_recent_addresses","address","recipient","city","region","code","country","phone","orders","validation","min_length","max_length","mandatory","invalid_format","already_exists","not_matching","min","max","invalid_img_format","max_size","already_reported","info","loading","interesting","no_articles","error","500","text","401","other","not_found","fashion","appliances","phones","sports","games","others","recent","i18n","use","LanguageDetector","initReactI18next","init","resources","es","en","fallbackLng","debug","whitelist","react","useSuspense","wait","ActionType","AuthRequestinterceptor","interceptorReq","interceptorRes","lastToken","token","setup","onToken","undefined","axios","interceptors","request","eject","req","headers","amz","authorization","setupTokenInterceptor","remove","response","res","data","TOKEN_COOKIE","SessionStorageManager","localStorage","removeItem","readToken","getItem","storeToken","Date","setDate","getDate","setItem","instance","callback","handle","setCallback","cb","serverErrorHandler","ServerErrorHandlerContext","React","createContext","OK","NoContent","BadRequest","Unauthorized","Forbidden","NotFound","ServerError","FALLBACK_IMAGE","MAX_PRODUCT_IMAGES","SESSION_EXPIRE_DELAY","createValidator","t","errors","errorFor","helperFor","args","split","msg","details","slice","k","length","replace","format","seconds","timezone","moment","tz","toDate","toLocaleString","API_URL","process","FEEDBACK_API_URL","DEFAULT_HANDLED","HttpStatusCode","emptyStatusValidation","h","handled","exceptions","v","includes","BaseAPI","baseUrl","getImage","path","get","validateStatus","responseType","params","options","url","post","postMP","put","putMP","this","AuthAPI","auth","a","reauth","PRODUCT_PATH","VENDOR_PATH","ProductAPI","getProduct","id","getVendorProducts","searchProducts","publishProduct","form","files","onUploadProgress","update","formData","FormData","append","JSON","stringify","i","file","deleteProduct","findCategories","rateProduct","rating","USER_PATH","UserAPI","image","getUser","getDetailedUser","detailed","searchUsers","deleteUser","addresses","CART_PATH","CHECKOUT_PATH","CartAPI","current","productId","clear","FAVORITES_PATH","FAV_PRODUCTS_PATH","FAV_VENDORS_PATH","FavoritesAPI","getForUser","u","add","ResourceAPI","load","startsWith","REPORT_PATH","ProductReportAPI","getFor","ORDERS_PATH","OrdersAPI","FeedbackAPI","collect","action","RecommenderAPI","getPopular","UserContext","useUserService","useContext","ProductContext","useProductService","FavoriteContext","FavoriteAPI","useFavoriteService","CartContext","useCartService","sessionStorage","session","cookies","decode","parse","atob","decoded","sessionId","sub","userId","uid","r","storedToken","isLogged","shouldUpdateToken","getTime","exp","Constants","hasExpired","SessionStorageImpl","authService","interceptor","AuthRequestInterceptor","isAuth","api","status","AuthServiceImpl","SessionContext","useSession","ResourceContext","useResourceService","ProductReportContext","useProductReportService","OrdersContext","useOrdersService","FeedbackContext","useFeedbackService","useStyles","makeStyles","theme","createStyles","margin","padding","spacing","display","maxWidth","width","flexDirection","transform","breakpoints","down","buttons","marginTop","marginLeft","gridTemplateColumns","input","backgroundColor","palette","background","paper","borderRadius","userSelect","color","grey","fontWeight","toolbar","logo","cursor","up","textShadow","searchContainer","boxShadow","alignItems","position","shape","transition","transitions","create","fade","common","white","searchIcon","height","pointerEvents","justifyContent","inputButton","inputRoot","inputInput","paddingLeft","avatar","menuText","usernameMenu","divider","secondary","dark","LogoIcon","props","SvgIcon","viewBox","d","fill","data-original","NavigationBar","useSessionService","classes","useHistory","useTranslation","cartItems","logged","useState","anchorEl","setAnchorEl","anchorAdmin","setAnchorAdmin","searched","setSearched","handleMenuClose","handleAdminMenuClose","redirect","push","menuId","menuContent","Typography","className","MenuItem","onClick","ListItemIcon","menuContentLogged","aria-controls","fontSize","Divider","light","renderMenu","Menu","anchorOrigin","vertical","horizontal","keepMounted","transformOrigin","open","Boolean","onClose","adminMenu","AppBar","Toolbar","variant","Logo","IconButton","Paper","component","onSubmit","e","preventDefault","trim","InputBase","root","value","inputProps","onChange","target","type","aria-label","currentTarget","Badge","badgeContent","edge","Avatar","substring","NavigationBarWrapper","state","getSession","setState","sessionService","s","Component","container","minWidth","media","backgroundRepeat","backgroundSize","actions","titleChip","DefaultActions","favService","cartService","noFav","noCart","useTheme","fav","favorite","setFavorite","addToFav","stopPropagation","size","htmlColor","main","style","Product","Actions","feedbackService","img","setImg","useEffect","loadImage","mainImage","reader","FileReader","readAsDataURL","onload","result","Card","CardActionArea","CLICK","CardMedia","Chip","label","CardActions","disableSpacing","marginBottom","user","UserHolder","gotoProfile","profileImgUri","URL","createObjectURL","src","marginRight","pagger","NoResults","PageContainer","itemRender","EmptyComponent","setShownItems","deps","ContainerComponent","location","useLocation","page","setItems","pages","setPages","fetchRequest","handleData","pageCount","Math","ceil","pageSize","Empty","Container","children","map","p","Pagination","count","pathname","hideNextButton","hidePrevButton","showFirstButton","showLastButton","flexWrap","overflowX","minHeight","scrollbarWidth","endGap","ProductSlider","rest","ProductImg","fallback","alt","selectedImgUrl","setSelectedImg","srcSet","ReportDialog","setOpen","reportService","setReason","setErrors","handleClose","handleReport","ValidationTools","Dialog","aria-labelledby","aria-describedby","DialogTitle","DialogContent","DialogContentText","TextField","autoFocus","fullWidth","multiline","helperText","rows","DialogActions","Button","PasswordField","setPassword","showPassword","setShowPassword","floor","random","FormControl","InputLabel","htmlFor","OutlinedInput","endAdornment","InputAdornment","onMouseDown","labelWidth","FormHelperText","CircularProgressIndicator","Box","CircularProgress","top","left","bottom","right","round","Alert","elevation","knownErrors","ErrorAlert","Snackbar","autoHideDuration","severity","ErrorWrapperClass","bind","textAlign","ContentWarn","Loading","x","y","fontFamily","Login","userService","setUsername","setError","doLogin","to","onSubmitCapture","noValidate","autoComplete","disableElevation","alignSelf","deleteImage","zIndex","backdrop","drawer","loader","SignupFormComponent","doForm","setData","uploading","updateData","actual","changeData","required","disabled","startIcon","subtitleLogin","textDecoration","subtitleContainer","SignupTitle","clsx","EditTitle","goBack","Signup","match","_id","parseInt","isNaN","imagePreview","setImagePreview","setImage","editImageUri","setEditImageUri","uploadProgress","setUploadProgress","loaded","deletable","doSignup","rLogin","doEdit","fetchUser","deletePhoto","accept","Backdrop","categories","slider","RecommenderContext","useRecommenderService","Home","productService","recommenderService","setCategories","popular","setPopular","setRecommended","fetchRecommended","fetchPopular","fetchCategories","c","all","useStyle","PageNotFound","images","maxHeight","holder","subholder","paddingRight","overflowWrap","catVendorVisits","visits","descriptionBuy","flexBasis","infoPair","wordBreak","buyHolder","ProductInfo","setAmount","amounts","setAmounts","setSelectedImgUrl","selectedImg","reporting","setReporting","owner","editable","amnts","Array","from","_","InfoHeader","Link","href","vendorNick","Rating","precision","readOnly","Hidden","mdUp","im","smDown","Autocomplete","getOptionLabel","disableClearable","renderInput","ProductPage","setProduct","document","handleNotFound","fetchProduct","VISIT","fetchRecommendations","justifyItems","pair","ProductEditForm","updateProduct","find","setCategory","InputProps","FormControlLabel","control","Switch","checked","InputLabelProps","shrink","ProductEdit","imagePreviews","setImagePreviews","setFiles","setImages","index","findIndex","removePhoto","selectPhoto","Logout","controls","filterInput","filterField","sortingModes","mode","icon","Search","query","shownItems","selectedOrder","setSelectedOrder","order","setOrder","newId","handleCategory","m","toggler","Favorites","favType","productOrUser","setProductOrUser","ToggleButtonGroup","exclusive","ToggleButton","contentHolder","list","gridTemplateRows","imageContainer","subtotal","CartProductHolder","pc","favoriteService","updateTotal","removed","setRemoved","setUnavailable","amountField","setAmountField","amountError","setAmountError","outStock","calcSub","n","setSubtotal","checkStock","gotoProduct","handleCart","changeUnits","ButtonBase","onBlur","InvalidCartDialog","setContent","CartPage","setProducts","calcTotal","reduce","prev","prod","setTotal","setSize","updateSize","pred","fetchProducts","EmptyCart","valid","join","checkValidCart","endIcon","topText","paddingBottom","default","VendorProfileInfo","self","profileImage","setProfileImage","VendorProfile","perms","vendorId","setUser","setShown","fetchVendor","ReportHolder","deleteReport","DateUtils","TableRow","TableCell","scope","align","productName","userNickname","ReportsPage","TableContainer","Table","TableHead","TableBody","summary","addressesTitle","addressButton","addressContainer","addressHolder","overflow","CheckoutPage","setAddresses","selectAddress","err","done","orderId","orderSuccess","heading","flexShrink","secondaryHeading","addressValues","OrderedProductHolder","userRating","setRating","ListItem","unitPrice","OrderHolder","o","expanded","setExpanded","Accordion","isExpanded","AccordionSummary","expandIcon","AccordionDetails","List","entries","OrderHistoryPage","completedOrder","orderService","CheckRedirect","RouteCheck","route","RouteComponent","identified","then","BaseLayout","render","exact","Routes","createMuiTheme","primary","blue","orange","App","ThemeProvider","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","getElementById"],"mappings":"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","file":"static/js/main.2de13ab5.chunk.js","sourcesContent":["const es = {\n    routes: {\n        base: 'Shop - ',\n        home: 'Inicio',\n        search: 'Buscar',\n        vendor: 'Vendedor',\n        cart: 'Carrito',\n        product_publish: 'Nuevo producto',\n        product: 'Cargando...',\n        product_edit: 'Editar producto',\n        login: 'Iniciar sesión',\n        logout: 'Saliendo...',\n        signup: 'Registrarse',\n        profile: 'Mi perfil',\n        profile_edit: 'Editar perfil',\n        favorites: 'Favoritos',\n        reports: 'Reportes',\n        checkout: 'Proceso de compra',\n        history: 'Mis pedidos',\n        404: 'No encontrado',\n    },\n    cancel: 'Cancelar',\n    nav: {\n        header: 'Tienda',\n        favorites: 'Favoritos',\n        upload: 'Publicar producto',\n        history: 'Mis pedidos',\n        logout: 'Salir',\n        login: 'Iniciar sesión',\n        login_info: 'Entra con tu cuenta',\n        signup: 'Registrarse',\n        signup_info: '¿No tienes? Regístrate',\n        search: 'Buscar',\n        admin: {\n            reports: 'Reportes',\n        },\n    },\n    login: {\n        title: 'Inicia sesión',\n        subtitle: '¿Aún no te has registrado? ¡Hazlo ya!',\n        field: {\n            username: 'Seudónimio o correo',\n            password: 'Contraseña',\n            incorrect: 'Usuario o contraseña incorrectos',\n        },\n    },\n    signup: {\n        title: 'Registrar',\n        subtitle: '¿Ya estás registrado?',\n        field: {\n            name: 'Nombre',\n            surname: 'Apellidos',\n            email: 'Correo electrónico',\n            repeatedEmail: 'Repite el correo',\n            nickname: 'Seudónimo',\n            password: 'Contraseña',\n            repeatedPassword: 'Repite contraseña',\n            description: 'Descripción',\n            photo_footer: 'Foto de perfil (Máx 14MB .jpeg, .jpg, .png)',\n        },\n        continue: 'Continuar',\n    },\n    cart: {\n        empty: 'Carrito vacío',\n        title: 'Carrito',\n        buy: 'Proceder',\n        total: 'Total',\n        items: 'Ítems',\n        item: 'Ítem',\n        unit: 'Unidad',\n        unavailable: 'No disponible ya',\n        no_stock: 'Stock insuficiente',\n        favorites: 'Tus favoritos',\n        content: {\n            invalid:\n                'Por favor revisa los siguientes items del carrito, ya no están disponibles o no hay suficiente stock: ',\n            title: 'Productos inválidos',\n            button: 'Entendido',\n        },\n    },\n    favorites: {\n        title: 'Mis favoritos',\n        empty: 'No hay favoritos',\n        products: 'Productos',\n        vendors: 'Vendedores',\n    },\n    profile: {\n        empty: 'No hay productos',\n        shown: 'Visibles',\n        hidden: 'Ocultos',\n        product_title: 'Productos',\n        edit: {\n            title: 'Editar perfil',\n        },\n    },\n    search: {\n        no_results: 'Sin resultados',\n        found: 'Encontrados {0} resultados para \"{1}\"',\n        filter: {\n            date: 'Más recientes',\n            price_down: 'Precio descendente',\n            price_up: 'Precio ascendente',\n        },\n    },\n    product: {\n        buy: 'Comprar',\n        amount: 'Cantidad',\n        no_stock: 'Agotado',\n        name: 'Título',\n        brand: 'Marca',\n        description: 'Descripción',\n        price: 'Precio',\n        stock: 'Stock disponible',\n        hidden: 'Hidden',\n        category: 'Categoría',\n        edit: 'Editar producto',\n        publish: 'Publicar producto',\n        save: 'Guardar',\n        delete: 'Borrar',\n        report: {\n            title: 'Reportar producto',\n            body: 'Si consideras que el contenido de este producto puede ser inadeacuado, repórtalo para que lo revise un administrador.',\n            placeholder: 'Mensaje',\n            button: 'Reportar',\n        },\n    },\n    home: {\n        title: '¿Qué vas a comprar?',\n        weekly_popular: 'Populares en la semana',\n        recommended: 'Recomendados',\n    },\n    reports: {\n        empty: 'No hay reportes',\n        product: 'Producto',\n        date: 'Fecha',\n        reason: 'Motivo',\n    },\n    checkout: {\n        title: 'Pago',\n        finish: 'Completar',\n        success: '¡El pedido #{0} se ha completado correctamente!',\n        empty: 'Por favor revisa el carrito de compra, porque está vacío.',\n        invalid:\n            'Por favor revisa el carrito de compra, hay problemas con la disponibilidad de alguno de los ítems.',\n        recent_addresses: 'Direcciones recientes',\n        no_recent_addresses: 'No hay direcciones recientes',\n        loading_recent_addresses: 'Cargando direcciones recientes...',\n    },\n    address: {\n        recipient: 'Nombre y apellidos',\n        city: 'Ciudad',\n        region: 'Región',\n        code: 'Código postal',\n        country: 'País',\n        address: 'Dirección',\n        phone: 'Teléfono',\n    },\n    orders: {\n        title: 'Compras',\n        empty: 'No hay productos',\n    },\n    validation: {\n        min_length: 'Longitud mínima de {0}',\n        max_length: 'Longitud máxima de {0}',\n        mandatory: 'Campo obligatorio',\n        invalid_format: 'Formato inválido',\n        already_exists: 'Ya está en uso',\n        not_matching: 'Los campos no coinciden',\n        min: 'El valor mínimo es {0}',\n        max: 'El valor máximo es {0}',\n        invalid: 'Valor inválido',\n        invalid_img_format: 'Extensión inválida, usa .jpg, .jpeg o .png',\n        max_size: 'Tamaño máximo permitido {0}MB',\n        already_reported: 'Ya has reportado este producto, ¡por favor espera!',\n    },\n    info: {\n        loading: 'Cargando...',\n        interesting: 'Podría interesarte...',\n        no_articles: 'No hay recomendaciones',\n    },\n    error: {\n        500: {\n            text: 'Lo sentimos, ha ocurrido un error, ¡por favor recarga la página e inténtalo de nuevo!',\n        },\n        401: {\n            text: '¡Inicia sesión para hacer esto!',\n        },\n        other: {\n            text: 'Ha pasado algún error desconocido, recarga la página',\n        },\n        not_found: 'No encontrado | 404',\n    },\n    category: {\n        fashion: 'Moda',\n        appliances: 'Electrodomésticos',\n        phones: 'Teléfonos',\n        'computers-electronic': 'Ordenadores/Electrónica',\n        sports: 'Deportes',\n        games: 'Juegos',\n        home: 'Hogar',\n        others: 'Otros',\n    },\n}\n\nexport default Object.freeze({ translation: es })\n","const en = {\n    routes: {\n        base: 'Shop - ',\n        home: 'Home',\n        search: 'Search',\n        vendor: 'Vendor',\n        cart: 'Cart',\n        product_publish: 'Publish product',\n        product: 'Loading...',\n        product_edit: 'Edit product',\n        login: 'Log in',\n        logout: 'Logging out...',\n        signup: 'Sign up',\n        profile: 'My profile',\n        profile_edit: 'Edit profile',\n        favorites: 'Favorites',\n        reports: 'Reports',\n        checkout: 'Checkout',\n        history: 'My orders',\n        404: 'Not found',\n    },\n    cancel: 'Cancel',\n    nav: {\n        header: 'Shop',\n        favorites: 'Favorites',\n        upload: 'Upload product',\n        history: 'My orders',\n        logout: 'Logout',\n        login: 'Login',\n        login_info: 'Login with your account',\n        signup: 'Sign up',\n        signup_info: 'Not registered? Sign up',\n        search: 'Search',\n        admin: {\n            reports: 'Reports',\n        },\n    },\n    login: {\n        title: 'Log in',\n        subtitle: 'Not registered yet? Do it now!',\n        field: {\n            username: 'Nickname or e-mail',\n            password: 'Password',\n            incorrect: 'Incorrect user/password',\n        },\n    },\n    signup: {\n        title: 'Sign up',\n        subtitle: 'Alredy registered?',\n        field: {\n            name: 'Name',\n            surname: 'Surname',\n            email: 'E-mail',\n            repeatedEmail: 'Repeated e-mail',\n            nickname: 'Nickname',\n            password: 'Password',\n            repeatedPassword: 'Repeated password',\n            description: 'Description',\n            photo_footer: 'Profile photo (Max 14MB .jpeg, .jpg, .png)',\n        },\n        continue: 'Continue',\n    },\n    cart: {\n        empty: 'Cart is empty',\n        title: 'Cart',\n        buy: 'Proceed',\n        total: 'Total',\n        items: 'Items',\n        item: 'Item',\n        unit: 'Unit',\n        unavailable: 'Unavailable',\n        no_stock: 'Insufficient stock',\n        favorites: 'Your favorites',\n        invalid: {\n            content:\n                'Please check the following items, they are unavailable or there is insufficient stock: ',\n            title: 'Invalid products',\n            button: 'Got it',\n        },\n    },\n    favorites: {\n        title: 'My favorites',\n        empty: 'No favorites',\n        products: 'Products',\n        vendors: 'Vendors',\n    },\n    profile: {\n        empty: 'No products',\n        shown: 'Shown',\n        hidden: 'Hidden',\n        product_title: 'Products',\n        edit: {\n            title: 'Edit profile',\n        },\n    },\n    search: {\n        no_results: 'No results',\n        found: 'Found {0} results for \"{1}\"',\n        filter: {\n            recent: 'Most recent',\n            price_down: 'High to Low',\n            price_up: 'Low to High',\n        },\n    },\n    product: {\n        buy: 'Buy',\n        amount: 'Amount',\n        no_stock: 'Out of stock',\n        name: 'Title',\n        brand: 'Brand',\n        description: 'Description',\n        price: 'Price',\n        stock: 'Available stock',\n        hidden: 'Hidden',\n        category: 'Category',\n        edit: 'Edit product',\n        publish: 'Publish product',\n        save: 'Save',\n        delete: 'Delete',\n        report: {\n            title: 'Report product',\n            body: 'If you think that the content of this product may be inappropriate, please report it to an administrator for review.',\n            placeholder: 'Message',\n            button: 'Report',\n        },\n    },\n    home: {\n        title: 'What are you buying?',\n        weekly_popular: 'Weekly popular',\n        recommended: 'Recommended',\n    },\n    reports: {\n        empty: 'No reports',\n        product: 'Product',\n        date: 'Date',\n        reason: 'Reason',\n        title: 'Reports',\n    },\n    checkout: {\n        title: 'Checkout',\n        finish: 'Finish',\n        success: 'Order #{0} has been successfully completed!',\n        empty: \"Please check your shopping cart because it's empty!\",\n        invalid:\n            'Please check your shopping cart, there are some problems regarding the availability of some items.',\n        recent_addresses: 'Recent addresses',\n        no_recent_addresses: 'No recent addresses',\n        loading_recent_addresses: 'Loading recent addresses...',\n    },\n    address: {\n        recipient: 'Full name',\n        city: 'City',\n        region: 'Region',\n        code: 'Zip code',\n        country: 'Country',\n        address: 'Address',\n        phone: 'Phone number',\n    },\n    orders: {\n        title: 'Orders',\n        empty: 'No products',\n    },\n    validation: {\n        min_length: 'Min allowed length is {0}',\n        max_length: 'Max allowed length is {0}',\n        mandatory: 'Mandatory field',\n        invalid_format: 'Invalid format',\n        already_exists: 'Already exists',\n        not_matching: 'Fields not matching',\n        min: 'Minimum valid value is {0}',\n        max: 'Maximum valid value is {0}',\n        invalid: 'Invalid value',\n        invalid_img_format: 'Invalid format use .jpg, .jpeg o .png',\n        max_size: 'Maximum allowed size is {0}MB',\n        already_reported:\n            'You have already reported this product, please wait!',\n    },\n    info: {\n        loading: 'Loading...',\n        interesting: 'May interest you...',\n        no_articles: 'No articles found',\n    },\n    error: {\n        500: {\n            text: 'Sorry, an error has ocurred, please refresh the page and try again!',\n        },\n        401: {\n            text: 'Please log in to do that!',\n        },\n        other: {\n            text: 'An unknown error has ocurred, refresh the page!',\n        },\n        not_found: 'Not found | 404',\n    },\n    category: {\n        fashion: 'Fashion',\n        appliances: 'Appliances',\n        phones: 'Phones',\n        'computers-electronic': 'Computers/Electronic',\n        sports: 'Sports',\n        games: 'Games',\n        home: 'Home',\n        others: 'Others',\n    },\n}\n\nexport default Object.freeze({ translation: en })\n","import i18n from 'i18next'\nimport { initReactI18next } from 'react-i18next'\nimport LanguageDetector from 'i18next-browser-languagedetector'\n\nimport es from './locales/es/translation'\nimport en from './locales/en/translation'\n\ni18n.use(LanguageDetector)\n    .use(initReactI18next)\n    .init({\n        resources: {\n            es,\n            en,\n        },\n        fallbackLng: 'es',\n        debug: false,\n        whitelist: ['es', 'en'],\n        react: {\n            useSuspense: true,\n            wait: true,\n        },\n    })\n\nexport default i18n\n","interface Product {\n    id: number\n    name: string\n    brand: string\n    price: number\n    stock: number\n    category: ProductCategory\n    images: ProductImage[]\n    hidden: boolean\n    description: string\n    lastUpdated: Date\n    date: Date\n    visits: number\n    rating: number\n    userId: number\n\n    vendorNick?: string\n    fav?: boolean\n}\n\ninterface ProductImage {\n    i: number\n    u: string\n}\n\ninterface PreviewProduct {\n    id: number\n    name: string\n    brand: string\n    price: number\n    stock: number\n    mainImage: string\n    lastUpdated: Date\n    visits: number\n    rating: number\n\n    fav?: boolean\n}\n\ninterface ProductCategory {\n    id: number\n    name?: string\n}\n\ninterface ProductReport {\n    id: number\n    productId: number\n    userId: number\n    reason: string\n    date: Date\n    productName: string\n    userNickname: string\n}\n\ninterface User {\n    id: number\n    nickname: string\n    description: string\n    profileImgUri?: string\n    registerDate: Date\n\n    fav?: boolean\n}\n\ninterface UserDetails {\n    name: string\n    surname: string\n    email: string\n}\n\ntype DetailedUser = User & UserDetails\n\ninterface UserAddress {\n    recipient: string\n    code: string\n    city: string\n    region: string\n    country: string\n    address: string\n    phone: string\n}\n\ninterface CartProduct {\n    id: number\n    amount: number\n}\n\ninterface CartProductPreview {\n    product: PreviewProduct\n    amount: number\n\n    removed?: boolean\n    unavailable?: boolean\n}\n\ninterface Date {\n    seconds: number\n    nanos: number\n}\n\ninterface Order {\n    id: number\n    userId: number\n    address: UserAddress\n    items: OrderedProduct[]\n    date: Date\n}\n\ninterface OrderedProduct {\n    amount: number\n    unitPrice: number\n    product: PreviewProduct\n\n    userRating?: number\n}\n\nenum ActionType {\n    CLICK = 0,\n    VISIT = 5,\n}\n\nexport type {\n    Product,\n    PreviewProduct,\n    ProductCategory,\n    ProductReport,\n    User,\n    UserAddress,\n    DetailedUser,\n    CartProduct,\n    CartProductPreview,\n    Order,\n    OrderedProduct,\n}\n\nexport { ActionType }\n","import axios from 'axios'\n\nexport default class AuthRequestinterceptor {\n    private interceptorReq?: number\n    private interceptorRes?: number\n\n    private lastToken?: string\n\n    header = (token = this.lastToken) => `Bearer ${token}`\n\n    setup = (token: string, onToken: (token: string) => void) => {\n        this.lastToken = token\n\n        if (this.interceptorReq !== undefined)\n            axios.interceptors.request.eject(this.interceptorReq)\n\n        this.interceptorReq = axios.interceptors.request.use((req) => {\n            if (req.headers.amz) {\n                delete req.headers.amz\n                return req\n            }\n\n            req.headers.authorization = this.header()\n            return req\n        })\n\n        this.setupTokenInterceptor(onToken)\n    }\n\n    remove = () => {\n        if (this.interceptorReq !== undefined) {\n            axios.interceptors.request.eject(this.interceptorReq)\n            this.interceptorReq = undefined\n        }\n\n        if (this.interceptorRes !== undefined) {\n            axios.interceptors.response.eject(this.interceptorRes)\n            this.interceptorRes = undefined\n        }\n    }\n\n    private setupTokenInterceptor = (onToken: (token: string) => void) => {\n        if (this.interceptorRes !== undefined)\n            axios.interceptors.response.eject(this.interceptorRes)\n\n        this.interceptorRes = axios.interceptors.response.use((res) => {\n            const token = res.data?.token\n            if (token) {\n                this.lastToken = token\n                onToken(token)\n            }\n            return res\n        })\n    }\n}\n","const TOKEN_COOKIE = 'token'\nconst TOKEN_LIFESPAN = 7\n\nexport default class SessionStorageManager {\n    remove = () => localStorage.removeItem(TOKEN_COOKIE)\n\n    readToken = () => localStorage.getItem(TOKEN_COOKIE)\n\n    storeToken = (token: string) => {\n        const date = new Date()\n        date.setDate(date.getDate() + TOKEN_LIFESPAN)\n\n        localStorage.setItem(TOKEN_COOKIE, token)\n    }\n}\n","import React from 'react'\n\ntype Callback = (code: number) => void\n\nexport interface ServerErrorHandlerListener {\n    setCallback: (callback: Callback) => void\n}\n\nexport interface ServerErrorHandlerEmitter {\n    handle: (code: number) => void\n}\n\nclass ServerErrorHandler\n    implements ServerErrorHandlerListener, ServerErrorHandlerEmitter {\n    private callback: Callback | undefined\n\n    handle = (code: number) => {\n        if (this.callback) this.callback(code)\n    }\n\n    setCallback = (cb: Callback) => {\n        this.callback = cb\n    }\n}\n\nconst instance = new ServerErrorHandler()\n\nexport const serverErrorHandler: ServerErrorHandlerEmitter = instance\n\nconst ServerErrorHandlerContext = React.createContext<ServerErrorHandlerListener>(\n    instance\n)\n\nexport const useServerErrorHandler = () =>\n    React.useContext(ServerErrorHandlerContext)\n","export const OK = 200\nexport const NoContent = 204\n\nexport const BadRequest = 400\nexport const Unauthorized = 401\nexport const Forbidden = 403\nexport const NotFound = 404\n\nexport const ServerError = 500","export const FALLBACK_IMAGE = '/icons/noimage.svg'\n\nexport const MAX_PRODUCT_IMAGES = 8\n\nexport const SESSION_EXPIRE_DELAY = 5 * 24 * 60 * 60 * 1000\n","export const createValidator = (t: any, errors: any) => {\n    const errorFor = (field: string) => field in errors\n\n    const helperFor = (field: string) => {\n        const error = errors[field]\n        if (error === undefined) return undefined\n        const args = error.split('.')\n\n        let msg = t(`validation.${args[0]}`)\n\n        const details = args.slice(1)\n        for (let k = 0; k < details.length; k++)\n            msg = msg.replace('{' + k + '}', details[k])\n\n        return msg\n    }\n\n    return { errorFor, helperFor }\n}\n","import moment from 'moment-timezone'\n\nexport const format = (seconds: number, timezone: string = 'Europe/Madrid') => {\n    return moment(seconds * 1000)\n        .tz(timezone)\n        .toDate()\n        .toLocaleString()\n}\n","import axios, { AxiosResponse } from 'axios'\n\nimport { HttpStatusCode, serverErrorHandler } from '../utils'\n\nconst API_URL = `${process.env.REACT_APP_API_URL}/v${process.env.REACT_APP_API_VERSION}`\nexport const FEEDBACK_API_URL = `${process.env.REACT_APP_FEEDBACK_API_URL}/v${process.env.REACT_APP_FEEDBACK_API_VERSION}`\n\nexport type RPromise<T = null> = Promise<AxiosResponse<T>>\nexport type StatusHandler = (status: number) => boolean\n\nconst DEFAULT_HANDLED = [\n    HttpStatusCode.ServerError,\n    HttpStatusCode.Unauthorized,\n]\n\nconst emptyStatusValidation = (h?: number[]) => (code: number) => {\n    let handled = h ? [...DEFAULT_HANDLED, ...h] : DEFAULT_HANDLED\n    let exceptions = h?.filter((v) => DEFAULT_HANDLED.includes(v)) ?? []\n    if (handled.includes(code) && !exceptions.includes(code))\n        serverErrorHandler.handle(code)\n\n    return true\n}\n\nexport default class BaseAPI {\n    baseUrl: string\n\n    constructor(baseUrl: string = API_URL) {\n        this.baseUrl = baseUrl\n    }\n\n    protected getImage = (path: string) =>\n        axios.get(path, {\n            headers: { amz: 'amz' },\n            validateStatus: (code: number) => true,\n            responseType: 'blob',\n        })\n\n    protected get = <T = null>(\n        path: string,\n        params?: any,\n        handled?: number[],\n        options: any = {}\n    ) =>\n        axios.get<T>(this.url(path), {\n            params,\n            validateStatus: emptyStatusValidation(handled),\n            ...options,\n        })\n\n    protected post = <T = null>(\n        path: string,\n        params?: any,\n        handled?: number[],\n        options: any = {}\n    ) =>\n        axios.post<T>(this.url(path), null, {\n            params,\n            validateStatus: emptyStatusValidation(handled),\n            ...options,\n        })\n\n    protected postMP = <T = null>(\n        path: string,\n        data: any,\n        handled?: number[],\n        options: any = {}\n    ) =>\n        axios.post<T>(this.url(path), data, {\n            validateStatus: emptyStatusValidation(handled),\n            ...options,\n        })\n\n    protected put = <T = null>(\n        path: string,\n        params?: any,\n        handled?: number[],\n        options: any = {}\n    ) =>\n        axios.put<T>(this.url(path), null, {\n            params,\n            validateStatus: emptyStatusValidation(handled),\n            ...options,\n        })\n\n    protected putMP = <T = null>(\n        path: string,\n        data: any,\n        handled?: number[],\n        options: any = {}\n    ) =>\n        axios.put<T>(this.url(path), data, {\n            validateStatus: emptyStatusValidation(handled),\n            ...options,\n        })\n\n    protected delete = <T = null>(\n        path: string,\n        params?: any,\n        handled?: number[],\n        options: any = {}\n    ) =>\n        axios.delete<T>(this.url(path), {\n            params,\n            validateStatus: emptyStatusValidation(handled),\n            ...options,\n        })\n\n    private url = (path: string) => `${this.baseUrl}${path}`\n}\n","import { HttpStatusCode } from '../utils'\n\nimport BaseAPI from './BaseAPI'\n\nexport default class AuthAPI extends BaseAPI {\n    auth = async () =>\n        await this.post<string>('/auth', null, [HttpStatusCode.Unauthorized])\n\n    reauth = async (header: string) =>\n        await this.post<string>(\n            '/reauth',\n            null,\n            [HttpStatusCode.Unauthorized],\n            { headers: { authorization: header } }\n        )\n}\n","import BaseAPI, { RPromise } from './BaseAPI'\n\nimport { PreviewProduct, Product, ProductCategory } from '../types'\nimport { Paged, PagedParams } from './types'\nimport { HttpStatusCode } from '../utils'\n\nexport interface ProductService {\n    getProduct: (id: number) => RPromise<Product>\n    getVendorProducts: (\n        id: number,\n        shown: boolean,\n        params: PagedParams\n    ) => RPromise<Paged<PreviewProduct>>\n    searchProducts: (\n        search: SearchProduct & PagedParams\n    ) => RPromise<Paged<PreviewProduct>>\n    publishProduct: (\n        form: ProductForm,\n        images: File[],\n        onUploadProgress: any,\n        update: boolean\n    ) => RPromise<number>\n    deleteProduct: (id: number) => RPromise\n    findCategories: () => RPromise<ProductCategory[]>\n    rateProduct: (id: number, rating: number) => RPromise\n}\n\nconst PRODUCT_PATH = '/product'\nconst VENDOR_PATH = '/vendor'\n\nexport interface ProductForm {\n    id?: number\n    name: string\n    brand: string\n    description: string\n    price: number\n    stock: number\n    category: number\n    hidden: boolean\n}\n\ninterface SearchProduct {\n    query: string\n    category?: number\n}\n\nexport default class ProductAPI extends BaseAPI implements ProductService {\n    getProduct = (id: number) =>\n        this.get<Product>(`${PRODUCT_PATH}/${id}`, null)\n\n    getVendorProducts = (id: number, shown: boolean, params: PagedParams) =>\n        this.get<Paged<PreviewProduct>>(\n            `${PRODUCT_PATH}${VENDOR_PATH}/${id}`,\n            {\n                shown,\n                ...params,\n            },\n            [HttpStatusCode.Forbidden]\n        )\n\n    searchProducts = (search: SearchProduct & PagedParams) =>\n        this.get<Paged<PreviewProduct>>(`${PRODUCT_PATH}/list`, search, [\n            HttpStatusCode.BadRequest,\n        ])\n\n    publishProduct = (\n        form: ProductForm,\n        files: File[],\n        onUploadProgress: any,\n        update: boolean\n    ) => {\n        const formData = new FormData()\n\n        formData.append('form', JSON.stringify(form))\n        for (let i = 0; i < files.length; i++) {\n            const file = files[i]\n            if (file !== undefined)\n                formData.append(\n                    `${update && file === null ? 'delete' : 'file'}${i}`,\n                    file\n                )\n        }\n\n        return (update ? this.putMP : this.postMP)<number>(\n            '/product',\n            formData,\n            [HttpStatusCode.Forbidden],\n            {\n                headers: {\n                    'Content-Type': 'multipart/form-data',\n                },\n                onUploadProgress,\n            }\n        )\n    }\n\n    deleteProduct = (id: number) =>\n        this.delete(`${PRODUCT_PATH}/${id}`, null, [HttpStatusCode.Forbidden])\n\n    findCategories = () =>\n        this.get<ProductCategory[]>(`${PRODUCT_PATH}/categories`)\n\n    rateProduct = (id: number, rating: number) =>\n        this.put(`${PRODUCT_PATH}/${id}/rate`, { rating })\n}\n","import BaseAPI, { RPromise } from './BaseAPI'\n\nimport { User, DetailedUser, UserAddress } from '../types'\nimport { HttpStatusCode } from '../utils'\n\nexport interface UserService {\n    login: (form: LoginForm) => RPromise<LoginResponse>\n    signup: (form: SignupForm, image: File, onUploadProgress: any) => RPromise\n    edit: (form: SignupForm, image: File, onUploadProgress: any) => RPromise\n    getUser: (id: number) => RPromise<User>\n    getDetailedUser: (id: number) => RPromise<DetailedUser>\n    searchUsers: (search: SearchUser) => RPromise<User[]>\n    deleteUser: (id: number) => RPromise\n    addresses: (id: number) => RPromise<UserAddress[]>\n}\n\nconst USER_PATH = '/user'\n\ninterface SearchUser {\n    query: string\n    page?: number\n    category?: number\n    order?: number\n}\n\ninterface LoginForm {\n    username: string\n    password: string\n}\n\nexport interface SignupForm {\n    id?: number\n    name: string\n    surname: string\n    email?: string\n    repeatedEmail?: string\n    password: string\n    repeatedPassword: string\n    nickname: string\n    description: string\n    deletePhoto?: boolean\n}\n\ninterface LoginResponse {\n    token: string\n    user: User\n}\n\nexport default class UserAPI extends BaseAPI implements UserService {\n    login = (form: LoginForm) =>\n        this.post<LoginResponse>('/login', form, [HttpStatusCode.Unauthorized])\n\n    signup = (form: SignupForm, image: File, onUploadProgress: any) => {\n        const formData = new FormData()\n\n        formData.append('form', JSON.stringify(form))\n        if (image) formData.append('file', image)\n\n        return this.postMP('/signup', formData, undefined, {\n            headers: {\n                'Content-Type': 'multipart/form-data',\n            },\n            onUploadProgress,\n        })\n    }\n\n    edit = (form: SignupForm, image: File, onUploadProgress: any) => {\n        const formData = new FormData()\n\n        formData.append('form', JSON.stringify(form))\n        if (image) formData.append('file', image)\n\n        return this.putMP('/profile/edit', formData, undefined, {\n            headers: {\n                'Content-Type': 'multipart/form-data',\n            },\n            onUploadProgress,\n        })\n    }\n\n    getUser = (id: number) => this.get<User>(`${USER_PATH}/${id}`)\n\n    getDetailedUser = (id: number) =>\n        this.get<DetailedUser>(`${USER_PATH}/${id}`, { detailed: true }, [\n            HttpStatusCode.Forbidden,\n        ])\n\n    searchUsers = (search: SearchUser) =>\n        this.get<User[]>(`${USER_PATH}/list`, search)\n\n    deleteUser = (id: number) =>\n        this.delete(`${USER_PATH}/${id}`, null, [\n            HttpStatusCode.Forbidden,\n            HttpStatusCode.NotFound,\n        ])\n\n    addresses = (id: number) =>\n        this.get<UserAddress[]>(`${USER_PATH}/${id}/addresses`, null, [\n            HttpStatusCode.Forbidden,\n            HttpStatusCode.NotFound,\n        ])\n}\n","import BaseAPI, { RPromise } from './BaseAPI'\n\nimport { CartProductPreview, UserAddress } from '../types'\n\nconst CART_PATH = '/cart'\nconst CHECKOUT_PATH = '/checkout'\n\nexport interface CartService {\n    update: (form: UpdateCartForm) => RPromise\n    remove: (productId: number) => RPromise\n    clear: () => RPromise\n    current: () => RPromise<CartProductPreview[]>\n    checkout: (address: UserAddress) => RPromise<{ orderId: number }>\n}\n\nexport interface UpdateCartForm {\n    productId: number\n    amount: number\n    add: boolean\n}\n\nexport default class CartAPI extends BaseAPI implements CartService {\n    current = () => this.get<CartProductPreview[]>(CART_PATH)\n\n    update = (form: UpdateCartForm) => this.post(CART_PATH, form)\n\n    remove = (productId: number) => this.delete(CART_PATH, { productId })\n\n    clear = () => this.delete(`${CART_PATH}/all`)\n\n    checkout = (address: UserAddress) =>\n        this.post<{ orderId: number }>(CHECKOUT_PATH, address)\n}\n","import BaseAPI, { RPromise } from './BaseAPI'\n\nimport { PreviewProduct, User } from '../types'\n\nimport { Paged, PagedParams } from './types'\nimport { HttpStatusCode } from '../utils'\n\nexport interface FavoriteService {\n    getForUser: (\n        params: PagedParams,\n        product?: boolean\n    ) => RPromise<Paged<PreviewProduct | User>>\n    add: (id: number, product?: boolean) => RPromise\n    remove: (id: number, product?: boolean) => RPromise\n}\n\nconst FAVORITES_PATH = '/favorites'\nconst FAV_PRODUCTS_PATH = '/products'\nconst FAV_VENDORS_PATH = '/vendors'\n\nexport default class FavoritesAPI extends BaseAPI implements FavoriteService {\n    getForUser = (params: PagedParams, product: boolean = true) =>\n        this.get<Paged<PreviewProduct | User>>(this.u(product), params)\n\n    add = (id: number, product: boolean = true) =>\n        this.post(this.u(product), { id }, [HttpStatusCode.NotFound])\n\n    remove = (id: number, product: boolean = true) =>\n        this.delete(this.u(product), { id })\n\n    private u = (product: boolean) =>\n        `${FAVORITES_PATH}${product ? FAV_PRODUCTS_PATH : FAV_VENDORS_PATH}`\n}\n","import BaseAPI, { RPromise } from './BaseAPI'\n\nexport interface ResourceService {\n    load: (path: string) => RPromise<any>\n}\n\nexport default class ResourceAPI extends BaseAPI implements ResourceService {\n    load = (path: string) => {\n        return path.startsWith('http')\n            ? this.getImage(path)\n            : this.get<any>(`/${path}`, undefined, undefined, {\n                  responseType: 'blob',\n              })\n    }\n}\n","import BaseAPI, { RPromise } from './BaseAPI'\n\nimport { ProductReport } from '../types'\n\nimport { Paged, PagedParams } from './types'\n\nimport { HttpStatusCode } from '../utils'\n\nexport interface ProductReportService {\n    getFor: (\n        params: PagedParams & ReportSearch\n    ) => RPromise<Paged<ProductReport>>\n    report: (productId: number, reason: string) => RPromise\n    remove: (id: number) => RPromise\n}\n\ninterface ReportSearch {\n    productId?: number\n}\n\nconst REPORT_PATH = '/product/report'\n\nexport default class ProductReportAPI\n    extends BaseAPI\n    implements ProductReportService {\n    getFor = (params: PagedParams & ReportSearch) =>\n        this.get<Paged<ProductReport>>(REPORT_PATH, params)\n\n    report = (productId: number, reason: string) =>\n        this.post(REPORT_PATH, { productId, reason }, [HttpStatusCode.NotFound])\n\n    remove = (id: number) => this.delete(`${REPORT_PATH}/${id}`)\n}\n","import BaseAPI, { RPromise } from './BaseAPI'\n\nimport { Order } from '../types'\nimport { Paged, PagedParams } from './types'\nimport { HttpStatusCode } from '../utils'\n\nconst ORDERS_PATH = '/orders'\n\ninterface OrderListParams {\n    userId?: number\n}\n\nexport interface OrdersService {\n    getForUser: (\n        params: OrderListParams & PagedParams\n    ) => RPromise<Paged<Order>>\n}\n\nexport default class OrdersAPI extends BaseAPI implements OrdersService {\n    getForUser = (params: OrderListParams & PagedParams) =>\n        this.get<Paged<Order>>(ORDERS_PATH, params, [HttpStatusCode.NotFound])\n}\n","import BaseAPI, { FEEDBACK_API_URL } from './BaseAPI'\n\nimport { HttpStatusCode } from '../utils'\nimport { ActionType } from '../types'\n\nexport interface FeedbackService {\n    collect: (action: UserAction) => void\n}\n\ninterface UserAction {\n    item: number\n    action: ActionType\n}\n\nexport default class FeedbackAPI extends BaseAPI implements FeedbackService {\n    constructor() {\n        super(FEEDBACK_API_URL)\n    }\n\n    collect = async (action: UserAction) => {\n        try {\n            await this.post(`/record`, action, [\n                HttpStatusCode.ServerError,\n                HttpStatusCode.Unauthorized,\n            ])\n        } catch (ex) {}\n    }\n}\n","import BaseAPI, { RPromise } from './BaseAPI'\n\nimport { HttpStatusCode } from '../utils'\nimport { PreviewProduct } from '../types'\n\nexport interface RecommenderService {\n    getFor: (product?: number) => RPromise<PreviewProduct[]>\n    getPopular: () => RPromise<PreviewProduct[]>\n}\n\nexport default class RecommenderAPI\n    extends BaseAPI\n    implements RecommenderService {\n    getFor = (product?: number) =>\n        this.get<PreviewProduct[]>(`/recommended`, { product }, [\n            HttpStatusCode.ServerError,\n            HttpStatusCode.Unauthorized,\n        ])\n\n    getPopular = () =>\n        this.get<PreviewProduct[]>(`/popular`, {}, [\n            HttpStatusCode.ServerError,\n            HttpStatusCode.Unauthorized,\n        ])\n}\n","import React from 'react'\n\nimport { UserAPI, UserService } from '../api'\n\nexport const UserContext = React.createContext<UserService>(new UserAPI())\n\nconst useUserService = () => React.useContext(UserContext)\n\nexport default useUserService\n","import React from 'react'\n\nimport { ProductAPI, ProductService } from '../api'\n\nexport const ProductContext = React.createContext<ProductService>(\n    new ProductAPI()\n)\n\nconst useProductService = () => React.useContext(ProductContext)\n\nexport default useProductService\n","import React from 'react'\n\nimport { FavoriteAPI, FavoriteService } from '../api'\n\nexport const FavoriteContext = React.createContext<FavoriteService>(\n    new FavoriteAPI()\n)\n\nconst useFavoriteService = () => React.useContext(FavoriteContext)\n\nexport default useFavoriteService\n","import React from 'react'\n\nimport { CartAPI, CartService } from '../api'\n\nexport const CartContext = React.createContext<CartService>(new CartAPI())\n\nconst useCartService = () => React.useContext(CartContext)\n\nexport default useCartService\n","import React from 'react'\n\nimport { AuthService, AuthServiceImpl } from './AuthService'\nimport { SessionStorage, SessionStorageImpl } from './SessionStorage'\n\nexport type SessionService = AuthService & SessionStorage\n\nconst sessionStorage = SessionStorageImpl()\nconst authService = AuthServiceImpl(sessionStorage)\n\nexport const SessionContext = React.createContext<SessionService>({\n    ...authService,\n    ...sessionStorage,\n})\n\nconst useSessionService = () => React.useContext(SessionContext)\n\nexport default useSessionService\n","import { CartProduct, User } from '../../types'\nimport { Constants, SessionStorageManager } from '../../utils'\n\ntype SessionCallback = (session?: Session) => void\n\nexport interface SessionStorage {\n    current: () => Session | undefined\n    update: (token: string, user?: User) => void\n    clear: () => void\n    storedToken: () => string | null\n    isLogged: () => boolean\n    setCallback: (callback: SessionCallback) => void\n    shouldUpdateToken: (token?: string | null) => boolean\n    hasExpired: (token: string) => boolean\n}\n\nexport interface Session {\n    sessionId: string\n    userId?: number\n    username?: string\n    cart: CartProduct[]\n    admin: boolean\n}\n\nexport const SessionStorageImpl = () => {\n    let session: Session | undefined\n\n    let callback: SessionCallback | undefined\n\n    let cookies = new SessionStorageManager()\n\n    const current = () => session\n\n    const update = (token: string) => {\n        const decoded = decode(token)\n\n        if (decoded) {\n            const sessionId = decoded.sub\n            const userId = decoded.uid\n            const username = decoded.username\n            const cart = JSON.parse(decoded.cart ?? '[]')\n            const admin = decoded.r\n\n            if (!session) session = { sessionId, userId, username, cart, admin }\n            else {\n                session.sessionId = sessionId\n                session.userId = userId\n                session.username = username\n                session.cart = cart\n                session.admin = admin\n            }\n        }\n\n        cookies.storeToken(token)\n\n        if (callback) callback(session)\n    }\n\n    const isLogged = () => session?.userId !== undefined\n\n    const storedToken = () => cookies.readToken()\n\n    const shouldUpdateToken = (token?: string | null) =>\n        token\n            ? new Date().getTime() >\n              decode(token).exp * 1000 - Constants.SESSION_EXPIRE_DELAY\n            : true\n\n    const hasExpired = (token: string) =>\n        new Date().getTime() > decode(token).exp * 1000\n\n    const clear = () => {\n        cookies.remove()\n        session = undefined\n    }\n\n    const setCallback = (cb: SessionCallback) => {\n        callback = cb\n    }\n\n    const decode = (token: string): any => {\n        try {\n            return JSON.parse(atob(token.split('.')[1]))\n        } catch (error) {\n            return null\n        }\n    }\n\n    return {\n        current,\n        update,\n        clear,\n        storedToken,\n        isLogged,\n        setCallback,\n        shouldUpdateToken,\n        hasExpired,\n    }\n}\n","import { AuthAPI } from '../../api'\n\nimport { SessionStorage } from './SessionStorage'\n\nimport { AuthRequestInterceptor } from '../../utils'\n\nexport interface AuthService {\n    isAuth: () => boolean\n    auth: () => Promise<void>\n    logout: () => Promise<void>\n}\n\nexport const AuthServiceImpl = (sessionStorage: SessionStorage) => {\n    const interceptor = new AuthRequestInterceptor()\n\n    let isAuth = false\n\n    const api = new AuthAPI()\n\n    const auth = async () => {\n        let token = sessionStorage.storedToken()\n        let shouldUpdateToken = sessionStorage.shouldUpdateToken(token)\n\n        if (shouldUpdateToken) {\n            let res\n            if (token && !sessionStorage.hasExpired(token))\n                res = await api.reauth(interceptor.header(token))\n            else res = await api.auth()\n\n            if (res.status === 200) token = res.data\n        }\n\n        if (token) {\n            isAuth = true\n            interceptor.setup(token, onToken)\n            sessionStorage.update(token)\n        }\n    }\n\n    const logout = async () => {\n        interceptor.remove()\n        sessionStorage.clear()\n\n        await auth()\n    }\n\n    const onToken = (token: string) => {\n        sessionStorage.update(token)\n    }\n\n    return { isAuth: () => isAuth, auth, logout }\n}\n","import useSession, { SessionService } from './SessionService'\nimport { Session } from './SessionStorage'\n\nexport type { Session, SessionService }\n\nexport default useSession\n","import React from 'react'\n\nimport { ResourceAPI, ResourceService } from '../api'\n\nexport const ResourceContext = React.createContext<ResourceService>(new ResourceAPI())\n\nconst useResourceService = () => React.useContext(ResourceContext)\n\nexport default useResourceService\n","import React from 'react'\n\nimport { ProductReportAPI, ProductReportService } from '../api'\n\nexport const ProductReportContext = React.createContext<ProductReportService>(\n    new ProductReportAPI()\n)\n\nconst useProductReportService = () => React.useContext(ProductReportContext)\n\nexport default useProductReportService\n","import React from 'react'\n\nimport { OrdersAPI, OrdersService } from '../api'\n\nexport const OrdersContext = React.createContext<OrdersService>(new OrdersAPI())\n\nconst useOrdersService = () => React.useContext(OrdersContext)\n\nexport default useOrdersService\n","import React from 'react'\n\nimport { FeedbackAPI, FeedbackService } from '../api'\n\nexport const FeedbackContext = React.createContext<FeedbackService>(\n    new FeedbackAPI()\n)\n\nconst useFeedbackService = () => React.useContext(FeedbackContext)\n\nexport default useFeedbackService\n","import { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        form: {\n            margin: 'auto',\n            padding: theme.spacing(1),\n            display: 'flex',\n            maxWidth: 'calc(100% - 16px)',\n            width: '46ch',\n            flexDirection: 'column',\n            transform: 'translateY(-35%)',\n            [theme.breakpoints.down('sm')]: {\n                transform: 'translateY(-20%)',\n            },\n        },\n        buttons: {\n            marginTop: theme.spacing(1),\n            '& > button:last-child': {\n                marginLeft: theme.spacing(1),\n            },\n            gridTemplateColumns: '1fr 1fr',\n            display: 'grid',\n        },\n        input: {\n            margin: theme.spacing(1, 0),\n            width: '100%',\n            backgroundColor: theme.palette.background.paper,\n            borderRadius: 4,\n        },\n        header: {\n            margin: theme.spacing(4),\n            userSelect: 'none',\n        },\n        title: {\n            color: theme.palette.grey[800],\n            fontWeight: 'bold',\n        },\n        subtitle: {\n            color: theme.palette.grey[500],\n            fontWeight: 'lighter',\n        },\n    })\n)\n","import { fade, makeStyles, Theme, createStyles } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        toolbar: {\n            [theme.breakpoints.down('xs')]: {\n                padding: theme.spacing(0, 1, 0, 0.5),\n            },\n        },\n        logo: {\n            display: 'none',\n            cursor: 'pointer',\n            userSelect: 'none',\n            [theme.breakpoints.up('sm')]: {\n                display: 'block',\n            },\n        },\n        home: {\n            display: 'block',\n            [theme.breakpoints.up('sm')]: {\n                display: 'none',\n            },\n            userSelect: 'none',\n            transitionDuration: '.3s',\n            '&:hover': {\n                textShadow: '1px 1px 5px #00000088',\n            },\n            marginRight: theme.spacing(0.5),\n        },\n        searchContainer: {\n            width: '100%',\n        },\n        search: {\n            boxShadow: 'none',\n            display: 'flex',\n            alignItems: 'center',\n            position: 'relative',\n            borderRadius: theme.shape.borderRadius,\n            color: 'white',\n            transition: theme.transitions.create('background'),\n            backgroundColor: fade(theme.palette.common.white, 0.15),\n            '&:hover': {\n                backgroundColor: fade(theme.palette.common.white, 0.25),\n            },\n            margin: 'auto',\n            width: '360px',\n            [theme.breakpoints.down('xs')]: {\n                marginLeft: theme.spacing(0),\n                width: '100%',\n            },\n        },\n        searchIcon: {\n            padding: theme.spacing(0, 2),\n            height: '100%',\n            position: 'absolute',\n            pointerEvents: 'none',\n            display: 'flex',\n            alignItems: 'center',\n            justifyContent: 'center',\n            color: 'white',\n        },\n        inputButton: {\n            padding: 10,\n            color: 'white',\n        },\n        inputRoot: {\n            color: 'inherit',\n            width: '100%',\n        },\n        inputInput: {\n            padding: theme.spacing(1, 1, 1, 0),\n            paddingLeft: `calc(1em + ${theme.spacing(4)}px)`,\n        },\n        avatar: {\n            width: theme.spacing(4),\n            height: theme.spacing(4),\n        },\n        menuText: {\n            margin: theme.spacing(0, 2),\n        },\n        usernameMenu: {\n            fontWeight: 'bold',\n        },\n        divider: {\n            margin: theme.spacing(1, 0, 1, 0),\n        },\n        add: {\n            color: theme.palette.secondary.dark,\n        },\n    })\n)\n","import React from 'react'\n\nimport SvgIcon from '@material-ui/core/SvgIcon'\n\nconst LogoIcon = (props: any) => (\n    <SvgIcon width={512} height={512} viewBox=\"0 0 512 512\" {...props}>\n        <path\n            d=\"M304,128H16c-8.832,0-16,7.168-16,16v304c0,35.296,28.704,64,64,64h240c8.832,0,16-7.168,16-16V144  C320,135.168,312.832,128,304,128z\"\n            fill=\"#ffc107\"\n            data-original=\"#ffc107\"\n        />\n        <path\n            d=\"M496,256H240c-8.832,0-16,7.168-16,16v176c0,35.296,28.704,64,64,64h160c35.296,0,64-28.704,64-64  V272C512,263.168,504.832,256,496,256z\"\n            fill=\"#2196f3\"\n            data-original=\"#2196f3\"\n        />\n        <g>\n            <path\n                d=\"M240,192c-8.832,0-16-7.168-16-16V96c0-35.296-28.704-64-64-64S96,60.704,96,96v80   c0,8.832-7.168,16-16,16s-16-7.168-16-16V96c0-52.928,43.072-96,96-96s96,43.072,96,96v80C256,184.832,248.832,192,240,192z\"\n                fill=\"#455a64\"\n                data-original=\"#455a64\"\n            />\n            <path\n                d=\"M432,320c-8.832,0-16-7.168-16-16v-64c0-26.464-21.536-48-48-48s-48,21.536-48,48v64   c0,8.832-7.168,16-16,16s-16-7.168-16-16v-64c0-44.096,35.872-80,80-80s80,35.904,80,80v64C448,312.832,440.832,320,432,320z\"\n                fill=\"#455a64\"\n                data-original=\"#455a64\"\n            />\n        </g>\n    </SvgIcon>\n)\n\nexport default LogoIcon\n","import React from 'react'\n\nimport AppBar from '@material-ui/core/AppBar'\nimport Toolbar from '@material-ui/core/Toolbar'\nimport IconButton from '@material-ui/core/IconButton'\nimport Typography from '@material-ui/core/Typography'\nimport InputBase from '@material-ui/core/InputBase'\nimport Badge from '@material-ui/core/Badge'\nimport MenuItem from '@material-ui/core/MenuItem'\nimport Menu from '@material-ui/core/Menu'\nimport Divider from '@material-ui/core/Divider'\nimport ListItemIcon from '@material-ui/core/ListItemIcon'\nimport Avatar from '@material-ui/core/Avatar'\nimport Paper from '@material-ui/core/Paper'\n\nimport SearchIcon from '@material-ui/icons/Search'\nimport AccountCircle from '@material-ui/icons/AccountCircle'\nimport ShoppingBasket from '@material-ui/icons/ShoppingBasket'\nimport Favorite from '@material-ui/icons/Favorite'\nimport ExitToApp from '@material-ui/icons/ExitToApp'\nimport Add from '@material-ui/icons/Add'\nimport Person from '@material-ui/icons/Person'\nimport SignUp from '@material-ui/icons/HowToReg'\nimport ArrowForward from '@material-ui/icons/ArrowForward'\nimport GavelIcon from '@material-ui/icons/Gavel'\nimport ReportIcon from '@material-ui/icons/Report'\nimport HistoryIcon from '@material-ui/icons/History'\nimport HomeIcon from '@material-ui/icons/Home'\n\nimport { useStyles } from './NavigationBar.style'\nimport { useHistory } from 'react-router'\n\nimport { useSessionService } from '../../services'\nimport { useTranslation } from 'react-i18next'\n\nimport LogoIcon from './Logo'\n\nconst NavigationBar = () => {\n    const sessionService = useSessionService()\n    const session = sessionService.current()\n\n    const classes = useStyles()\n    const history = useHistory()\n    const { t } = useTranslation()\n\n    const cartItems = session?.cart?.length\n    const username = session?.username\n    const logged = username !== undefined\n\n    const [anchorEl, setAnchorEl] = React.useState<null | HTMLElement>(null)\n    const [anchorAdmin, setAnchorAdmin] =\n        React.useState<null | HTMLElement>(null)\n    const [searched, setSearched] = React.useState('')\n\n    const handleMenuClose = () => setAnchorEl(null)\n\n    const handleMenuOpen = (e: React.MouseEvent<HTMLElement>) => {\n        setAnchorEl(e.currentTarget)\n    }\n\n    const handleAdminMenuClose = () => setAnchorAdmin(null)\n\n    const handleAdminMenuOpen = (e: React.MouseEvent<HTMLElement>) => {\n        setAnchorAdmin(e.currentTarget)\n    }\n\n    const redirect = (path: string) => {\n        handleMenuClose()\n        handleAdminMenuClose()\n        history.push(path, undefined)\n    }\n\n    const onSearch = (e: any) => {\n        e.preventDefault()\n        if (searched.trim()) redirect(`/search/${searched}`)\n    }\n\n    const menuId = 'nav-account-menu'\n    const adminMenuId = 'nav-admin-menu'\n\n    const menuContent = (\n        <div>\n            <Typography color={'textSecondary'} className={classes.menuText}>\n                {t('nav.login_info')}\n            </Typography>\n            <MenuItem id=\"login-nav-bt\" onClick={() => redirect('/login')}>\n                <ListItemIcon color=\"inherit\">\n                    <Person />\n                </ListItemIcon>\n                {t('nav.login')}\n            </MenuItem>\n\n            <Typography color={'textSecondary'} className={classes.menuText}>\n                {t('nav.signup_info')}\n            </Typography>\n            <MenuItem id=\"signup-nav-bt\" onClick={() => redirect('/signup')}>\n                <ListItemIcon color=\"inherit\">\n                    <SignUp />\n                </ListItemIcon>\n                {t('nav.signup')}\n            </MenuItem>\n        </div>\n    )\n\n    const menuContentLogged = (\n        <div>\n            <MenuItem id=\"profile-nav-bt\" onClick={() => redirect('/profile')}>\n                <ListItemIcon aria-controls={menuId} color=\"inherit\">\n                    <AccountCircle fontSize=\"large\" />\n                </ListItemIcon>\n                <Typography className={classes.usernameMenu}>\n                    {username}\n                </Typography>\n            </MenuItem>\n\n            <Divider className={classes.divider} color={'transparent'} />\n\n            <MenuItem id=\"fav-nav-bt\" onClick={() => redirect('/favorites')}>\n                <ListItemIcon color=\"inherit\">\n                    <Favorite />\n                </ListItemIcon>\n                {t('nav.favorites')}\n            </MenuItem>\n\n            <MenuItem id=\"history-nav-bt\" onClick={() => redirect('/history')}>\n                <ListItemIcon color=\"inherit\">\n                    <HistoryIcon />\n                </ListItemIcon>\n                {t('nav.history')}\n            </MenuItem>\n\n            <MenuItem\n                id=\"upload-nav-bt\"\n                onClick={() => redirect('/product/publish')}\n                className={classes.add}\n            >\n                <ListItemIcon color=\"inherit\">\n                    <Add className={classes.add} />\n                </ListItemIcon>\n                {t('nav.upload')}\n            </MenuItem>\n\n            <Divider className={classes.divider} light />\n\n            <MenuItem id=\"logout-nav-bt\" onClick={() => redirect('/logout')}>\n                <ListItemIcon color=\"inherit\">\n                    <ExitToApp />\n                </ListItemIcon>\n                {t('nav.logout')}\n            </MenuItem>\n        </div>\n    )\n\n    const renderMenu = (\n        <Menu\n            anchorEl={anchorEl}\n            anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n            id={menuId}\n            keepMounted\n            transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n            open={Boolean(anchorEl)}\n            onClose={handleMenuClose}\n        >\n            {logged ? menuContentLogged : menuContent}\n        </Menu>\n    )\n\n    const adminMenu = (\n        <Menu\n            anchorEl={anchorAdmin}\n            anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n            id={adminMenuId}\n            keepMounted\n            transformOrigin={{ vertical: 'top', horizontal: 'right' }}\n            open={Boolean(anchorAdmin)}\n            onClose={handleAdminMenuClose}\n        >\n            <MenuItem onClick={() => redirect('/reports')}>\n                <ListItemIcon color=\"inherit\">\n                    <ReportIcon />\n                </ListItemIcon>\n                {t('nav.admin.reports')}\n            </MenuItem>\n        </Menu>\n    )\n\n    return (\n        <div>\n            <AppBar position=\"static\">\n                <Toolbar variant={'dense'} className={classes.toolbar}>\n                    <LogoIcon\n                        fontSize=\"large\"\n                        className={classes.logo}\n                        onClick={() => redirect('/')}\n                    />\n\n                    <IconButton\n                        color=\"inherit\"\n                        className={classes.home}\n                        onClick={() => redirect('/')}\n                    >\n                        <HomeIcon />\n                    </IconButton>\n\n                    <div className={classes.searchContainer}>\n                        <Paper\n                            component=\"form\"\n                            onSubmit={onSearch}\n                            className={classes.search}\n                        >\n                            <div className={classes.searchIcon}>\n                                <SearchIcon />\n                            </div>\n                            <InputBase\n                                id=\"search-input\"\n                                placeholder={t('nav.search')}\n                                classes={{\n                                    root: classes.inputRoot,\n                                    input: classes.inputInput,\n                                }}\n                                value={searched}\n                                inputProps={{ 'aria-label': 'search' }}\n                                onChange={(e) => setSearched(e.target.value)}\n                            />\n                            <IconButton\n                                type=\"submit\"\n                                className={classes.inputButton}\n                                aria-label=\"search\"\n                            >\n                                <ArrowForward />\n                            </IconButton>\n                        </Paper>\n                    </div>\n\n                    <div />\n\n                    {session?.admin && (\n                        <IconButton\n                            onClick={handleAdminMenuOpen}\n                            color=\"inherit\"\n                        >\n                            <GavelIcon />\n                        </IconButton>\n                    )}\n\n                    <IconButton\n                        id=\"cart-nav-bt\"\n                        onClick={() => redirect('/cart')}\n                        color=\"inherit\"\n                    >\n                        <Badge badgeContent={cartItems} color=\"secondary\">\n                            <ShoppingBasket />\n                        </Badge>\n                    </IconButton>\n\n                    <IconButton\n                        edge=\"end\"\n                        id=\"user-nav\"\n                        onClick={handleMenuOpen}\n                        color=\"inherit\"\n                    >\n                        {logged ? (\n                            <Avatar className={classes.avatar}>\n                                {username?.substring(0, 2)}\n                            </Avatar>\n                        ) : (\n                            <AccountCircle fontSize=\"large\" />\n                        )}\n                    </IconButton>\n                </Toolbar>\n            </AppBar>\n            {renderMenu}\n            {adminMenu}\n        </div>\n    )\n}\n\nexport default NavigationBar\n","import NavigationBarWrapper from './NavigationBarWrapper'\n\nexport default NavigationBarWrapper\n","import React from 'react'\n\nimport { Session, SessionService } from '../../services'\n\nimport NavigationBar from './NavigationBar'\n\ninterface NavigationBarWrapperProps {\n    sessionService: SessionService\n}\n\ninterface NavigationBarWrapperState {\n    session?: Session\n}\n\nexport default class NavigationBarWrapper extends React.Component<\n    NavigationBarWrapperProps,\n    NavigationBarWrapperState\n> {\n    constructor(props: any) {\n        super(props)\n        this.state = { session: undefined }\n    }\n\n    componentDidMount() {\n        const getSession = async () => {\n            this.setState({\n                ...this.state,\n                session: this.props.sessionService.current(),\n            })\n        }\n\n        this.props.sessionService.setCallback((s) =>\n            this.setState({ ...this.state, session: s })\n        )\n\n        getSession()\n    }\n\n    render() {\n        return <NavigationBar />\n    }\n}\n","import { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        container: {\n            minWidth: 220,\n            height: 270,\n            display: 'flex',\n            flexDirection: 'column',\n            margin: theme.spacing(0, 2, 2, 0),\n        },\n        media: {\n            height: 220,\n            backgroundRepeat: 'no-repeat',\n            backgroundSize: 'cover',\n            backgroundColor: theme.palette.grey[100],\n        },\n        actions: {\n            height: '100%',\n            /*background:\n                'linear-gradient(to top, rgba(0,0,0,0.7) 0%, rgba(0,0,0,0.3) 70%, rgba(0,0,0,0) 100%)',*/\n        },\n        titleChip: {\n            '& > span': {\n                color: theme.palette.grey[50],\n                fontSize: 16,\n                fontWeight: 'bold',\n                textShadow: '.5px .5px .5px black',\n            },\n            maxWidth: 220,\n            margin: theme.spacing(1),\n            //backgroundColor: '#00000033',\n        },\n        price: {\n            marginLeft: 'auto',\n            fontWeight: 'bold',\n        },\n    })\n)\n","import React from 'react'\n\nimport { ActionType, PreviewProduct } from '../../types'\n\nimport { useStyles } from './Product.style'\n\nimport Card from '@material-ui/core/Card'\nimport CardMedia from '@material-ui/core/CardMedia'\nimport CardActions from '@material-ui/core/CardActions'\nimport CardActionArea from '@material-ui/core/CardActionArea'\nimport Chip from '@material-ui/core/Chip'\nimport Typography from '@material-ui/core/Typography'\nimport IconButton from '@material-ui/core/IconButton'\nimport FavoriteBorder from '@material-ui/icons/FavoriteBorder'\nimport Favorite from '@material-ui/icons/Favorite'\nimport ShoppingBasket from '@material-ui/icons/ShoppingBasketOutlined'\n\nimport { useHistory } from 'react-router'\nimport { useTheme } from '@material-ui/core'\nimport { CartService, FavoriteService, ResourceService } from '../../api'\nimport { HttpStatusCode, Constants } from '../../utils'\nimport { useTranslation } from 'react-i18next'\nimport { useFeedbackService } from '../../services'\n\ninterface ProductProps {\n    Actions?: React.FC<ProductActionsProps>\n}\n\ninterface ProductActionsProps {\n    product: PreviewProduct\n    favService?: FavoriteService\n    cartService?: CartService\n    resources?: ResourceService\n    noFav?: boolean\n    noCart?: boolean\n}\n\nconst DefaultActions: React.FC<ProductActionsProps> = ({\n    product,\n    favService,\n    cartService,\n    noFav = false,\n    noCart = false,\n}) => {\n    const theme = useTheme()\n    const { t } = useTranslation()\n\n    const [favorite, setFavorite] = React.useState(product.fav === true)\n\n    const addToCart = (e: any) => {\n        e.stopPropagation()\n        cartService!!.update({\n            productId: product.id,\n            amount: 1,\n            add: true,\n        })\n    }\n\n    const addToFav = async (e: any) => {\n        e.stopPropagation()\n\n        const r = await (favorite\n            ? favService!!.remove(product.id)\n            : favService!!.add(product.id))\n\n        if (r.status !== HttpStatusCode.OK) return\n\n        setFavorite(!favorite)\n    }\n\n    return (\n        <>\n            {!noFav && (\n                <IconButton\n                    className={'holder-fav-bt'}\n                    size={'small'}\n                    onClick={addToFav}\n                >\n                    {favorite ? (\n                        <Favorite htmlColor={theme.palette.error.main} />\n                    ) : (\n                        <FavoriteBorder />\n                    )}\n                </IconButton>\n            )}\n            {!noCart &&\n                (product.stock ? (\n                    <IconButton size={'small'} onClick={addToCart}>\n                        <ShoppingBasket />\n                    </IconButton>\n                ) : (\n                    <Typography\n                        variant=\"body2\"\n                        color=\"error\"\n                        style={{ marginLeft: 4 }}\n                    >\n                        {t('product.no_stock')}\n                    </Typography>\n                ))}\n        </>\n    )\n}\n\nconst ProductHolder: React.FC<ProductProps & ProductActionsProps> = ({\n    product,\n    Actions = DefaultActions,\n    favService,\n    cartService,\n    resources,\n    noFav = false,\n    noCart = false,\n}) => {\n    const history = useHistory()\n\n    const classes = useStyles()\n\n    const feedbackService = useFeedbackService()\n\n    const [img, setImg] = React.useState<any>()\n\n    const gotoProduct = () => {\n        feedbackService.collect({\n            item: product.id,\n            action: ActionType.CLICK,\n        })\n\n        history.push(`/product/${product.id}`, undefined)\n    }\n\n    React.useEffect(() => {\n        const loadImage = async () => {\n            try {\n                const r = await resources!!.load(product.mainImage)\n\n                if (r.status !== HttpStatusCode.OK) return\n\n                const reader = new FileReader()\n                reader.readAsDataURL(r.data)\n                reader.onload = () => setImg(reader.result)\n            } catch (ex) {}\n        }\n\n        if (product.mainImage) loadImage()\n    }, [product, resources])\n\n    return (\n        <Card className={classes.container}>\n            <CardActionArea className=\"product\" onClick={gotoProduct}>\n                <CardMedia\n                    className={classes.media}\n                    image={img ?? Constants.FALLBACK_IMAGE}\n                >\n                    <Chip\n                        style={{ backgroundColor: '#00000033' }}\n                        label={product.name}\n                        className={classes.titleChip}\n                    />\n                </CardMedia>\n            </CardActionArea>\n            <CardActions disableSpacing className={classes.actions}>\n                <Actions\n                    {...{ product, favService, cartService, noFav, noCart }}\n                />\n\n                <Typography className={classes.price}>\n                    {`${product.price}€`}\n                </Typography>\n            </CardActions>\n        </Card>\n    )\n}\n\nexport default ProductHolder\n","import Product from './Product'\n\nexport default Product","import { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        container: {\n            minWidth: 220,\n            display: 'flex',\n            flexDirection: 'column',\n            margin: theme.spacing(0, 2, 2, 0),\n        },\n        actions: {\n            marginTop: theme.spacing(1),\n            display: 'flex',\n            padding: theme.spacing(1),\n            alignItems: 'center',\n        },\n        username: {\n            marginLeft: 'auto',\n            fontWeight: 'bold',\n            cursor: 'pointer',\n        },\n        button: {\n            padding: 6,\n        },\n        avatar: {\n            margin: 'auto',\n            marginTop: theme.spacing(1),\n            marginBottom: theme.spacing(1),\n            height: theme.spacing(24),\n            width: theme.spacing(24),\n            fontSize: '3em',\n            '& img': {\n                display: 'block',\n                width: '100%',\n            },\n        },\n    })\n)\n","import React from 'react'\n\nimport { User } from '../../types'\n\nimport { useStyles } from './UserHolder.style'\n\nimport Paper from '@material-ui/core/Paper'\nimport Avatar from '@material-ui/core/Avatar'\nimport IconButton from '@material-ui/core/IconButton'\nimport Typography from '@material-ui/core/Typography'\nimport FavoriteBorder from '@material-ui/icons/FavoriteBorder'\nimport Favorite from '@material-ui/icons/Favorite'\n\nimport { useHistory } from 'react-router'\nimport { useTheme } from '@material-ui/core'\nimport { FavoriteService, ResourceService } from '../../api'\nimport { HttpStatusCode } from '../../utils'\n\ninterface ProductProps {\n    Actions?: React.FC<UserActionsProps>\n}\n\ninterface UserActionsProps {\n    user: User\n    favService?: FavoriteService\n    resources?: ResourceService\n}\n\nconst DefaultActions: React.FC<UserActionsProps> = ({ user, favService }) => {\n    const theme = useTheme()\n\n    const [favorite, setFavorite] = React.useState(true)\n\n    const addToFav = async (e: any) => {\n        e.stopPropagation()\n\n        const r = await (favorite\n            ? favService!!.remove(user.id, false)\n            : favService!!.add(user.id, false))\n\n        if (r.status !== HttpStatusCode.OK) return\n\n        setFavorite(!favorite)\n    }\n\n    return (\n        <>\n            <IconButton size={'small'} onClick={addToFav}>\n                {favorite ? (\n                    <Favorite htmlColor={theme.palette.error.main} />\n                ) : (\n                    <FavoriteBorder />\n                )}\n            </IconButton>\n        </>\n    )\n}\n\nconst UserHolder: React.FC<ProductProps & UserActionsProps> = ({\n    user,\n    Actions = DefaultActions,\n    favService,\n    resources,\n}) => {\n    const history = useHistory()\n\n    const classes = useStyles()\n\n    const [img, setImg] = React.useState<any>()\n\n    const gotoProfile = () => history.push(`/vendor/${user.id}`, undefined)\n\n    React.useEffect(() => {\n        const loadImage = async () => {\n            const r = await resources!!.load(user.profileImgUri!!)\n\n            if (r.status !== HttpStatusCode.OK) return\n\n            setImg(URL.createObjectURL(r.data))\n        }\n\n        if (user.profileImgUri) loadImage()\n    }, [user, resources])\n\n    return (\n        <div className={classes.container}>\n            <IconButton onClick={gotoProfile} className={classes.button}>\n                <Avatar className={classes.avatar} src={img}>\n                    {user?.nickname?.substring(0, 2)}\n                </Avatar>\n            </IconButton>\n            <Paper className={classes.actions}>\n                <Actions {...{ user, favService }} />\n                <Typography className={classes.username} onClick={gotoProfile}>\n                    {user.nickname}\n                </Typography>\n            </Paper>\n        </div>\n    )\n}\n\nexport default UserHolder\n","import UserHolder from './UserHolder'\n\nexport default UserHolder","import { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            marginLeft: 'auto',\n            marginRight: 'auto',\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n        },\n        container: {\n            display: 'grid',\n            gridTemplateColumns: 'repeat(1, 300px)',\n            [theme.breakpoints.up(490)]: {\n                gridTemplateColumns: 'repeat(2, 1fr)',\n            },\n            [theme.breakpoints.up(730)]: {\n                gridTemplateColumns: 'repeat(3, 1fr)',\n            },\n            [theme.breakpoints.up('md')]: {\n                gridTemplateColumns: 'repeat(4, 1fr)',\n            },\n            [theme.breakpoints.up('lg')]: {\n                gridTemplateColumns: 'repeat(5, 1fr)',\n            },\n            [theme.breakpoints.up(1600)]: {\n                gridTemplateColumns: 'repeat(6, 1fr)',\n            },\n            margin: theme.spacing(0, 0, 1, 2),\n        },\n        pagger: {\n            margin: theme.spacing(2),\n        },\n    })\n)\n","import React from 'react'\n\nimport { HttpStatusCode } from '../../utils'\n\nimport Pagination from '@material-ui/lab/Pagination'\nimport { Paged } from '../../api/types'\nimport { RPromise } from '../../api/BaseAPI'\n\nimport { ContentWarn, Loading } from '..'\n\nimport SearchIcon from '@material-ui/icons/Search'\nimport Typography from '@material-ui/core/Typography'\n\nimport { useTranslation } from 'react-i18next'\n\nimport { useHistory, useLocation } from 'react-router'\nimport { useStyles } from './PageContainer.style'\n\ninterface PageContainerProps<T> {\n    request: (page: number) => RPromise<Paged<T>>\n    itemRender: (item: T, index: number) => React.ReactNode\n    EmptyComponent?: React.FC\n    setShownItems: (loaded?: Paged<T>) => void\n    deps?: any[]\n    ContainerComponent?: React.FC\n}\n\nconst NoResults = () => {\n    const { t } = useTranslation()\n    return (\n        <ContentWarn>\n            <SearchIcon />\n            <Typography>{t('search.no_results')}</Typography>\n        </ContentWarn>\n    )\n}\n\nfunction PageContainer<T>({\n    request,\n    itemRender,\n    EmptyComponent,\n    setShownItems,\n    deps = [],\n    ContainerComponent,\n}: PageContainerProps<T>) {\n    const location = useLocation()\n    const history = useHistory()\n\n    const page = (location as any)?.state?.page ?? 1\n\n    const [items, setItems] = React.useState<T[]>()\n    const [pages, setPages] = React.useState(0)\n\n    const classes = useStyles()\n\n    const handlePageChange = (e: React.ChangeEvent<unknown>, page: number) => {\n        history.push(\n            location.pathname,\n            !location.state ? { page } : { ...(location.state as any), page }\n        )\n    }\n\n    React.useEffect(() => {\n        const fetchRequest = async () => {\n            setItems(undefined)\n            setShownItems(undefined)\n\n            const r = await request(page - 1)\n\n            if (r.status !== HttpStatusCode.OK) return\n\n            handleData(r.data)\n        }\n\n        const handleData = (data: Paged<T>) => {\n            setItems(data.items)\n            setShownItems(data)\n            const pageCount = Math.ceil(data.total / data.pageSize)\n            setPages(pageCount)\n        }\n\n        fetchRequest()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [setShownItems, page, ...deps])\n\n    const Empty = EmptyComponent ? <EmptyComponent /> : <NoResults />\n    const Container: React.FC = ({ children }) =>\n        ContainerComponent ? (\n            <ContainerComponent>{children}</ContainerComponent>\n        ) : (\n            <div className={classes.container}>{children}</div>\n        )\n\n    return items === undefined ? (\n        <Loading />\n    ) : items.length ? (\n        <div className={classes.root}>\n            <Container>\n                {items.map((p, i: number) => itemRender(p, i))}\n            </Container>\n            {pages > 1 && (\n                <Pagination\n                    className={classes.pagger}\n                    count={pages}\n                    page={page}\n                    onChange={handlePageChange}\n                    hideNextButton\n                    hidePrevButton\n                    showFirstButton\n                    showLastButton\n                />\n            )}\n        </div>\n    ) : (\n        Empty\n    )\n}\n\nexport default PageContainer\n","import PageContainer from './PageContainer'\n\nexport default PageContainer\n","import { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            display: 'flex',\n            flexDirection: 'row',\n            flexWrap: 'nowrap',\n            overflowX: 'auto',\n            margin: theme.spacing(2, 'auto', 0, 'auto'),\n            padding: theme.spacing(0, 0, 0, 2),\n            maxWidth: 1800,\n            minHeight: 220,\n            scrollbarWidth: 'none',\n            '&::-webkit-scrollbar': {\n                display: 'none',\n            },\n        },\n        endGap: {\n            minWidth: 1,\n        },\n    })\n)\n","import React from 'react'\n\nimport { ContentWarn, ProductHolder } from '..'\nimport { FavoriteService, ProductService } from '../../api'\nimport { useResourceService } from '../../services'\n\nimport { PreviewProduct } from '../../types'\nimport { useStyles } from './ProductSlider.style'\n\nimport Typography from '@material-ui/core/Typography'\nimport { useTranslation } from 'react-i18next'\n\ninterface ProductSliderProps {\n    products: PreviewProduct[]\n    favService: FavoriteService\n    productService: ProductService\n}\n\nconst ProductSlider: React.FC<ProductSliderProps> = ({ products, ...rest }) => {\n    const classes = useStyles()\n    const resources = useResourceService()\n\n    const { t } = useTranslation()\n\n    return (\n        <div className={classes.root}>\n            {products.length > 0 ? (\n                products.map((p, i) => (\n                    <ProductHolder\n                        key={i}\n                        product={p}\n                        {...{ resources, ...rest }}\n                    />\n                ))\n            ) : (\n                <ContentWarn>\n                    <Typography>{t('info.no_articles')}</Typography>\n                </ContentWarn>\n            )}\n            <div className={classes.endGap} />\n        </div>\n    )\n}\n\nexport default ProductSlider\n","import ProductSlider from './ProductSlider'\n\nexport default ProductSlider\n","import React from 'react'\n\nimport { ResourceService } from '../../api'\nimport { Constants, HttpStatusCode } from '../../utils'\n\nconst ProductImg: React.FC<\n    any & {\n        fallback?: string\n        url?: string\n        resources?: ResourceService\n        setSelectedImg?: any\n        selectedImgUrl?: string\n    }\n> = ({\n    fallback = Constants.FALLBACK_IMAGE,\n    src,\n    alt,\n    url,\n    resources,\n    selectedImgUrl,\n    setSelectedImg,\n    ...rest\n}) => {\n    const [img, setImg] = React.useState<any>()\n\n    React.useEffect(() => {\n        const load = async () => {\n            try {\n                const r = await resources.load(url)\n\n                if (r.status !== HttpStatusCode.OK) return\n\n                setImg(URL.createObjectURL(r.data))\n            } catch (ex) {}\n        }\n\n        if (resources && url) load()\n    }, [resources, url])\n\n    React.useEffect(() => {\n        if (selectedImgUrl && resources && selectedImgUrl === url)\n            setSelectedImg(img)\n    }, [resources, selectedImgUrl, url, setSelectedImg, img])\n\n    return (\n        <picture>\n            <source srcSet={src ?? (url ? img : undefined)} />\n            <source srcSet={fallback} />\n            <img alt={alt} {...rest} />\n        </picture>\n    )\n}\n\nexport default ProductImg\n","import ProductImg from './ProductImg'\n\nexport default ProductImg\n","import React from 'react'\n\nimport Button from '@material-ui/core/Button'\nimport TextField from '@material-ui/core/TextField'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogTitle from '@material-ui/core/DialogTitle'\n\nimport { useTranslation } from 'react-i18next'\nimport { useProductReportService } from '../../services'\nimport { Product } from '../../types'\nimport { HttpStatusCode, ValidationTools } from '../../utils'\n\ninterface ReportDialogProps {\n    product: Product\n    open: boolean\n    setOpen: (open: boolean) => void\n}\n\nconst ReportDialog: React.FC<ReportDialogProps> = ({\n    product,\n    open,\n    setOpen,\n}) => {\n    const { t } = useTranslation()\n\n    const reportService = useProductReportService()\n\n    const [reason, setReason] = React.useState('')\n    const [errors, setErrors] = React.useState<any>({})\n\n    const handleClose = () => {\n        setReason('')\n        setErrors({})\n        setOpen(false)\n    }\n\n    const handleReport = async () => {\n        const r = await reportService.report(product.id, reason)\n        switch (r.status) {\n            case HttpStatusCode.OK:\n            case HttpStatusCode.NoContent:\n            case HttpStatusCode.NotFound:\n                break\n            case HttpStatusCode.BadRequest:\n                setErrors((r.data as any).error)\n                return\n        }\n\n        handleClose()\n    }\n\n    const { errorFor, helperFor } = ValidationTools.createValidator(t, errors)\n\n    return (\n        <Dialog\n            open={open}\n            onClose={handleClose}\n            aria-labelledby=\"form-dialog-title\"\n            aria-describedby=\"form-dialog-description\"\n        >\n            <DialogTitle id=\"form-dialog-title\">\n                {t('product.report.title')}\n            </DialogTitle>\n            <DialogContent>\n                <DialogContentText id=\"form-dialog-description\">\n                    {t('product.report.body')}\n                </DialogContentText>\n                <TextField\n                    autoFocus\n                    variant=\"outlined\"\n                    margin=\"dense\"\n                    id=\"name\"\n                    label={t('product.report.placeholder')}\n                    fullWidth\n                    multiline\n                    onChange={(e) => setReason(e.target.value)}\n                    value={reason}\n                    error={errorFor('reason')}\n                    helperText={helperFor('reason')}\n                    rows={3}\n                />\n            </DialogContent>\n            <DialogActions>\n                <Button onClick={handleClose} color=\"primary\">\n                    {t('cancel')}\n                </Button>\n                <Button onClick={handleReport} color=\"primary\">\n                    {t('product.report.button')}\n                </Button>\n            </DialogActions>\n        </Dialog>\n    )\n}\n\nexport default ReportDialog\n","import ReportDialog from './ReportDialog'\n\nexport default ReportDialog\n","import PasswordField from './PasswordField'\n\nexport default PasswordField\n","import React from 'react'\n\nimport InputLabel from '@material-ui/core/InputLabel'\nimport FormHelperText from '@material-ui/core/FormHelperText'\nimport FormControl, { FormControlProps } from '@material-ui/core/FormControl'\nimport OutlinedInput from '@material-ui/core/OutlinedInput'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport IconButton from '@material-ui/core/IconButton'\nimport Visibility from '@material-ui/icons/Visibility'\nimport VisibilityOff from '@material-ui/icons/VisibilityOff'\n\ninterface PasswordFieldProps {\n    password: string\n    setPassword: (password: string) => any\n    label: string\n    helperText?: string\n    name?: string\n}\n\nconst PasswordField: React.FC<PasswordFieldProps & FormControlProps> = ({\n    password,\n    setPassword,\n    label,\n    helperText,\n    name,\n    ...rest\n}) => {\n    const [showPassword, setShowPassword] = React.useState(false)\n\n    const handleClickShowPassword = () => setShowPassword(!showPassword)\n\n    const handleMouseDownPassword = (e: React.MouseEvent<HTMLButtonElement>) =>\n        e.preventDefault()\n\n    const i = Math.floor(Math.random() * 100000)\n\n    return (\n        <FormControl variant=\"outlined\" {...rest}>\n            <InputLabel htmlFor={`password-field-${i}`}>{label}</InputLabel>\n            <OutlinedInput\n                id={`password-field-${i}`}\n                type={showPassword ? 'text' : 'password'}\n                value={password}\n                name={name}\n                onChange={(e) => setPassword(e.target.value)}\n                endAdornment={\n                    <InputAdornment position=\"end\">\n                        <IconButton\n                            onClick={handleClickShowPassword}\n                            onMouseDown={handleMouseDownPassword}\n                            edge=\"end\"\n                        >\n                            {showPassword ? <Visibility /> : <VisibilityOff />}\n                        </IconButton>\n                    </InputAdornment>\n                }\n                labelWidth={label.length * 9}\n            />\n            {helperText && <FormHelperText>{helperText}</FormHelperText>}\n        </FormControl>\n    )\n}\n\nexport default PasswordField\n","import React from 'react'\n\ninterface ErrorHandlerProps {\n    children: React.ReactNode\n}\n\nexport default class ErrorHandler extends React.Component<ErrorHandlerProps> {\n    componentDidCatch(error: any, info: any) {\n    }\n\n    render() {\n        return this.props.children\n    }\n}\n","import CircularProgressIndicator from './CircularProgressIndicator'\n\nexport default CircularProgressIndicator\n","import React from 'react'\n\nimport Box from '@material-ui/core/Box'\nimport CircularProgress, {\n    CircularProgressProps,\n} from '@material-ui/core/CircularProgress'\nimport Typography from '@material-ui/core/Typography'\n\nconst CircularProgressIndicator = (\n    props: CircularProgressProps & { value: number }\n) => {\n    return (\n        <Box position=\"relative\" display=\"inline-flex\">\n            <CircularProgress color=\"inherit\" variant=\"determinate\" {...props} />\n            <Box\n                top={0}\n                left={0}\n                bottom={0}\n                right={0}\n                position=\"absolute\"\n                display=\"flex\"\n                alignItems=\"center\"\n                justifyContent=\"center\"\n            >\n                <Typography\n                    variant=\"caption\"\n                    component=\"div\"\n                    color=\"inherit\"\n                >{`${Math.round(props.value)}%`}</Typography>\n            </Box>\n        </Box>\n    )\n}\n\nexport default CircularProgressIndicator\n","import React from 'react'\n\nimport Snackbar from '@material-ui/core/Snackbar'\nimport MuiAlert, { AlertProps } from '@material-ui/lab/Alert'\n\nimport { useTranslation } from 'react-i18next'\nimport { HttpStatusCode } from '../../../utils'\n\ninterface ErrorAlertProps {\n    error: number | undefined\n    setOpen: (open: boolean) => void\n    open: boolean\n}\n\nconst Alert = (props: AlertProps) => {\n    return <MuiAlert elevation={6} variant=\"filled\" {...props} />\n}\n\nconst knownErrors: (number | undefined)[] = [\n    HttpStatusCode.Unauthorized,\n    HttpStatusCode.ServerError,\n]\n\nconst ErrorAlert: React.FC<ErrorAlertProps> = ({ error, open, setOpen }) => {\n    const { t } = useTranslation()\n\n    const handleClose = (e?: React.SyntheticEvent, reason?: string) => {\n        if (reason === 'clickaway') return\n\n        setOpen(false)\n    }\n\n    const msg = knownErrors.includes(error)\n        ? t(`error.${error}.text`)\n        : t(`error.other.text`)\n\n    return (\n        <Snackbar open={open} autoHideDuration={6000} onClose={handleClose}>\n            <Alert severity=\"error\">{msg}</Alert>\n        </Snackbar>\n    )\n}\n\nexport default ErrorAlert\n","import ErrorWrapperClass from './ErrorWrapperClass'\n\nexport default ErrorWrapperClass\n","import React from 'react'\n\nimport ErrorAlert from './ErrorAlert'\n\nimport { ServerErrorHandlerListener } from '../../../utils'\n\ninterface ErrorWrapperClassProps {\n    serverErrorHandler: ServerErrorHandlerListener\n}\n\ninterface ErrorWrapperClassState {\n    error?: number\n    open: boolean\n}\n\nexport default class ErrorWrapperClass extends React.Component<\n    ErrorWrapperClassProps,\n    ErrorWrapperClassState\n> {\n    constructor(props: any) {\n        super(props)\n        this.state = { error: undefined, open: false }\n    }\n\n    componentDidMount() {\n        this.props.serverErrorHandler.setCallback((code) =>\n            this.setState({ error: code, open: true })\n        )\n    }\n\n    setOpen(open: boolean) {\n        this.setState({ ...this.state, open })\n    }\n\n    render() {\n        return (\n            <ErrorAlert\n                {...{\n                    error: this.state.error,\n                    setOpen: this.setOpen.bind(this),\n                    open: this.state.open,\n                }}\n            />\n        )\n    }\n}\n","import React from 'react'\n\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            userSelect: 'none',\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n            color: theme.palette.grey[400],\n            margin: 'auto',\n            '& > p': {\n                textAlign: 'center',\n                fontWeight: 'bold',\n                fontSize: 36,\n            },\n            '& > svg': {\n                fontSize: 130,\n            },\n        },\n    })\n)\n\ninterface Props {\n    children: React.ReactNode\n}\n\nconst ContentWarn: React.FC<Props> = ({ children }) => {\n    const classes = useStyles()\n\n    return <div className={classes.root}>{children}</div>\n}\n\nexport default ContentWarn\n","import ContentWarn from './ContentWarn'\n\nexport default ContentWarn\n","import Loading from './Loading'\n\nexport default Loading\n","import React from 'react'\n\nimport { useTranslation } from 'react-i18next'\n\nimport ContentLoader from 'react-content-loader'\n\nconst Loading = () => {\n    const { t } = useTranslation()\n\n    return (\n        <ContentLoader\n            viewBox=\"0 0 300 100\"\n            height={100}\n            width={300}\n            style={{ margin: 'auto' }}\n        >\n            <text\n                x=\"40\"\n                y=\"65\"\n                style={{\n                    fontSize: 50,\n                    fontWeight: 'bold',\n                    fontFamily: '\"Roboto\", \"Helvetica\", \"Arial\", sans-serif',\n                }}\n            >\n                {t('info.loading')}\n            </text>\n        </ContentLoader>\n    )\n}\n\nexport default Loading\n","import Login from './Login'\n\nexport default Login","import React from 'react'\n\nimport Typography from '@material-ui/core/Typography'\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\n\nimport { useSessionService, useUserService } from '../../services'\n\nimport { useStyles } from './Login.style'\nimport { PasswordField } from '../../components'\n\nimport { Redirect, RouteComponentProps } from 'react-router'\nimport { HttpStatusCode } from '../../utils'\nimport { useTranslation } from 'react-i18next'\n\nconst Login: React.FC<RouteComponentProps> = ({ history }) => {\n    const userService = useUserService()\n    const sessionService = useSessionService()\n\n    const { t } = useTranslation()\n\n    const classes = useStyles()\n\n    const [username, setUsername] = React.useState('')\n    const [password, setPassword] = React.useState('')\n\n    const [error, setError] = React.useState(false)\n\n    const doLogin = async (e: any) => {\n        e.preventDefault()\n\n        const r = await userService.login({ username, password })\n\n        switch (r.status) {\n            case HttpStatusCode.OK:\n            case HttpStatusCode.NoContent:\n                history.push('/')\n                break\n            default:\n                setError(true)\n                break\n        }\n    }\n\n    const register = () => history.push('/signup')\n\n    if (sessionService.isLogged()) return <Redirect to=\"/\" />\n\n    return (\n        <>\n            <header className={classes.header}>\n                <Typography\n                    className={classes.title}\n                    variant=\"h3\"\n                    component=\"h1\"\n                >\n                    {t('login.title')}\n                </Typography>\n                <Typography\n                    className={classes.subtitle}\n                    variant=\"h5\"\n                    component=\"h2\"\n                >\n                    {t('login.subtitle')}\n                </Typography>\n            </header>\n            <form\n                className={classes.form}\n                onSubmitCapture={doLogin}\n                noValidate\n                id=\"login-form\"\n                autoComplete=\"off\"\n            >\n                <TextField\n                    className={classes.input}\n                    name=\"username\"\n                    label={t('login.field.username')}\n                    variant=\"outlined\"\n                    value={username}\n                    onChange={(e) => setUsername(e.target.value)}\n                    error={error}\n                />\n                <PasswordField\n                    className={classes.input}\n                    name=\"password\"\n                    label={t('login.field.password')}\n                    error={error}\n                    helperText={error ? t('login.field.incorrect') : ''}\n                    {...{ password, setPassword }}\n                />\n                <div className={classes.buttons}>\n                    <Button\n                        disableElevation\n                        variant=\"contained\"\n                        color=\"primary\"\n                        type=\"submit\"\n                        size=\"large\"\n                        id=\"login-bt\"\n                    >\n                        {t('login.title')}\n                    </Button>\n                    <Button variant=\"outlined\" onClick={register}>\n                        {t('signup.title')}\n                    </Button>\n                </div>\n            </form>\n        </>\n    )\n}\n\nexport default Login\n","import { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        container: {\n            display: 'flex',\n            flexDirection: 'row',\n            [theme.breakpoints.down('xs')]: {\n                flexDirection: 'column',\n            },\n            marginBottom: theme.spacing(1),\n        },\n        buttons: {\n            margin: theme.spacing(1),\n            marginLeft: 'auto',\n            padding: theme.spacing(1, 5),\n        },\n        upload: {\n            position: 'relative',\n            margin: 'auto',\n            transform: 'translateY(-25%)',\n            '& > input': {\n                display: 'none',\n            },\n            '& > span': {\n                maxWidth: theme.spacing(20),\n                alignSelf: 'center',\n                textAlign: 'center',\n            },\n            display: 'flex',\n            flexDirection: 'column',\n            [theme.breakpoints.down('xs')]: {\n                transform: 'translateY(0%)',\n                marginBottom: theme.spacing(2),\n            },\n        },\n        deleteImage: {\n            position: 'absolute',\n            top: 0,\n            right: 0,\n            zIndex: 2,\n        },\n        avatar: {\n            height: theme.spacing(20),\n            width: theme.spacing(20),\n        },\n        backdrop: {\n            zIndex: theme.zIndex.drawer + 1,\n            color: '#fff',\n        },\n    })\n)\n","import { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        form: {\n            display: 'flex',\n            flexDirection: 'column',\n            width: '48ch',\n            marginLeft: 'auto',\n            marginRight: theme.spacing(8),\n            [theme.breakpoints.down('sm')]: {\n                marginRight: theme.spacing(2),\n            },\n            [theme.breakpoints.down('xs')]: {\n                width: '100%',\n            },\n        },\n        buttons: {\n            margin: theme.spacing(1),\n            marginLeft: 'auto',\n            padding: theme.spacing(1, 5),\n        },\n        input: {\n            margin: theme.spacing(1),\n            backgroundColor: theme.palette.background.paper,\n            borderRadius: 4,\n        },\n        bottom: {\n            marginLeft: 'auto',\n        },\n        loader: {\n            margin: 'auto',\n        },\n    })\n)\n","import SignupFormComponent from './SignupForm'\n\nexport default SignupFormComponent\n","import React from 'react'\n\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport DeleteIcon from '@material-ui/icons/Delete'\n\nimport { useTranslation } from 'react-i18next'\n\nimport { PasswordField } from '../../../../components'\n\nimport { SignupForm } from '../../../../api/UserAPI'\n\nimport { useStyles } from './Signup.style'\nimport { ValidationTools } from '../../../../utils'\n\ninterface SignupFormProps {\n    doForm: (e: any) => void\n    data: SignupForm\n    setData: (data: any) => void\n    errors: any\n    uploading: boolean\n    edit: boolean\n    deleteUser?: any\n}\n\nconst SignupFormComponent: React.FC<SignupFormProps> = ({\n    doForm,\n    data,\n    setData,\n    errors,\n    uploading,\n    edit,\n    deleteUser,\n}) => {\n    const { t } = useTranslation()\n\n    const classes = useStyles()\n\n    const updateData = (actual: {}) => {\n        setData({ ...data, ...actual })\n    }\n\n    const changeData = (field: string) => (e: any) =>\n        updateData({ [field]: e.target.value })\n\n    const { errorFor, helperFor } = ValidationTools.createValidator(t, errors)\n\n    return (\n        <form\n            id=\"signup-form\"\n            className={classes.form}\n            onSubmitCapture={doForm}\n            noValidate\n            autoComplete=\"off\"\n        >\n            <TextField\n                className={classes.input}\n                label={t('signup.field.name')}\n                variant=\"outlined\"\n                name=\"name\"\n                value={data['name']}\n                onChange={changeData('name')}\n                error={errorFor('name')}\n                helperText={helperFor('name')}\n                required\n            />\n\n            <TextField\n                className={classes.input}\n                label={t('signup.field.surname')}\n                variant=\"outlined\"\n                name=\"surname\"\n                value={data['surname']}\n                onChange={changeData('surname')}\n                error={errorFor('surname')}\n                helperText={helperFor('surname')}\n                required\n            />\n\n            <TextField\n                className={classes.input}\n                label={t('signup.field.email')}\n                variant=\"outlined\"\n                name=\"email\"\n                value={data['email']}\n                onChange={changeData('email')}\n                error={errorFor('email')}\n                helperText={helperFor('email')}\n                disabled={edit}\n                required\n            />\n\n            {!edit && (\n                <TextField\n                    className={classes.input}\n                    label={t('signup.field.repeatedEmail')}\n                    variant=\"outlined\"\n                    name=\"repeatedEmail\"\n                    value={data['repeatedEmail']}\n                    onChange={changeData('repeatedEmail')}\n                    error={errorFor('repeatedEmail')}\n                    helperText={helperFor('repeatedEmail')}\n                    required\n                />\n            )}\n\n            <TextField\n                className={classes.input}\n                label={t('signup.field.nickname')}\n                variant=\"outlined\"\n                value={data['nickname']}\n                name=\"nickname\"\n                onChange={changeData('nickname')}\n                error={errorFor('nickname')}\n                helperText={helperFor('nickname')}\n                required\n            />\n\n            <PasswordField\n                className={classes.input}\n                label={t('signup.field.password')}\n                error={errorFor('password')}\n                name=\"password\"\n                helperText={helperFor('password')}\n                {...{\n                    password: data.password,\n                    setPassword: (p) => updateData({ password: p }),\n                }}\n                required\n            />\n\n            <PasswordField\n                className={classes.input}\n                name=\"repeatedPassword\"\n                label={t('signup.field.repeatedPassword')}\n                error={errorFor('repeatedPassword')}\n                helperText={helperFor('repeatedPassword')}\n                {...{\n                    password: data.repeatedPassword,\n                    setPassword: (p) => updateData({ repeatedPassword: p }),\n                }}\n                required\n            />\n\n            <TextField\n                className={classes.input}\n                label={t('signup.field.description')}\n                variant=\"outlined\"\n                name=\"description\"\n                value={data['description']}\n                onChange={changeData('description')}\n                error={errorFor('description')}\n                helperText={helperFor('description')}\n                multiline\n                rows={5}\n            />\n\n            <div className={classes.bottom}>\n                {deleteUser && (\n                    <Button\n                        className={classes.buttons}\n                        disableElevation\n                        onClick={deleteUser}\n                        variant=\"contained\"\n                        color=\"secondary\"\n                        type=\"submit\"\n                        size=\"large\"\n                        disabled={uploading}\n                        startIcon={<DeleteIcon />}\n                    >\n                        {t('product.delete')}\n                    </Button>\n                )}\n\n                <Button\n                    className={classes.buttons}\n                    disableElevation\n                    disabled={uploading}\n                    variant=\"contained\"\n                    color=\"primary\"\n                    type=\"submit\"\n                    size=\"large\"\n                    id=\"signup-bt\"\n                >\n                    {t('signup.continue')}\n                </Button>\n            </div>\n        </form>\n    )\n}\n\nexport default SignupFormComponent\n","import { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        header: {\n            margin: theme.spacing(4),\n            userSelect: 'none',\n        },\n        title: {\n            color: theme.palette.grey[800],\n            fontWeight: 'bold',\n        },\n        subtitle: {\n            color: theme.palette.grey[500],\n            fontWeight: 'lighter',\n        },\n        subtitleLogin: {\n            cursor: 'pointer',\n            textDecoration: 'underline',\n            marginLeft: theme.spacing(1),\n        },\n        subtitleContainer: {\n            display: 'flex',\n        },\n    })\n)\n","import SignupTitle from './SignupTitle'\n\nexport default SignupTitle\n","import React from 'react'\n\nimport Typography from '@material-ui/core/Typography'\n\nimport { useHistory } from 'react-router'\n\nimport { useStyles } from './SignupTitle.style'\n\nimport clsx from 'clsx'\nimport { useTranslation } from 'react-i18next'\n\nconst SignupTitle = () => {\n    const { t } = useTranslation()\n\n    const history = useHistory()\n    const classes = useStyles()\n\n    const login = () => history.push('/login')\n\n    return (\n        <header className={classes.header}>\n            <Typography className={classes.title} variant=\"h3\" component=\"h1\">\n                {t('signup.title')}\n            </Typography>\n            <div className={classes.subtitleContainer}>\n                <Typography\n                    className={classes.subtitle}\n                    variant=\"h5\"\n                    component=\"h2\"\n                >\n                    {t('signup.subtitle')}\n                </Typography>\n                <Typography\n                    onClick={login}\n                    className={clsx(classes.subtitle, classes.subtitleLogin)}\n                    variant=\"h5\"\n                    component=\"h2\"\n                >\n                    {t('login.title')}\n                </Typography>\n            </div>\n        </header>\n    )\n}\n\nexport default SignupTitle\n","import { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        header: {\n            display: 'flex',\n            flexDirection: 'row',\n            margin: theme.spacing(4, 3, 2, 4),\n            alignItems: 'center',\n        },\n        title: {\n            marginLeft: theme.spacing(1),\n        },\n    })\n)\n","import EditTitle from './EditTitle'\n\nexport default EditTitle\n","import React from 'react'\n\nimport IconButton from '@material-ui/core/IconButton'\nimport Typography from '@material-ui/core/Typography'\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack'\n\nimport { useHistory } from 'react-router'\n\nimport { useStyles } from './EditTitle.style'\n\nimport { useTranslation } from 'react-i18next'\n\nconst EditTitle = () => {\n    const { t } = useTranslation()\n\n    const history = useHistory()\n    const classes = useStyles()\n\n    const goBack = () => history.goBack()\n\n    return (\n        <header className={classes.header}>\n            <IconButton onClick={() => goBack()}>\n                <ArrowBackIcon />\n            </IconButton>\n            <Typography className={classes.title} variant=\"h4\" component=\"h1\">\n                {t('profile.edit.title')}\n            </Typography>\n        </header>\n    )\n}\n\nexport default EditTitle\n","import Signup from './Signup'\n\nexport default Signup\n","import React from 'react'\n\nimport Typography from '@material-ui/core/Typography'\nimport Avatar from '@material-ui/core/Avatar'\nimport IconButton from '@material-ui/core/IconButton'\nimport DeleteIcon from '@material-ui/icons/Delete'\n\nimport { Redirect, RouteComponentProps } from 'react-router'\n\nimport {\n    useResourceService,\n    useSessionService,\n    useUserService,\n} from '../../services'\nimport { HttpStatusCode } from '../../utils'\n\nimport { SignupForm } from '../../api/UserAPI'\n\nimport { useStyles } from './Signup.style'\n\nimport { useTranslation } from 'react-i18next'\n\nimport { EditTitle, SignupFormComponent } from './components'\nimport { CircularProgressIndicator } from '../../components'\n\nimport Backdrop from '@material-ui/core/Backdrop'\n\nimport { SignupTitle } from './components'\n\ninterface UserEditParams {\n    id?: string\n}\n\nconst Signup: React.FC<RouteComponentProps<UserEditParams>> = ({\n    history,\n    match,\n}) => {\n    const userService = useUserService()\n    const sessionService = useSessionService()\n    const resources = useResourceService()\n\n    const { t } = useTranslation()\n\n    const { id } = match.params\n    const edit = match.path.includes('edit')\n    const session = sessionService.current()\n\n    const _id = parseInt(id ?? '')\n    const userId =\n        isNaN(_id) || (session?.userId !== _id && !session?.admin)\n            ? undefined\n            : _id\n\n    const classes = useStyles()\n\n    const [data, setData] = React.useState<SignupForm | undefined>(\n        edit\n            ? undefined\n            : {\n                  name: '',\n                  surname: '',\n                  email: '',\n                  repeatedEmail: '',\n                  password: '',\n                  repeatedPassword: '',\n                  nickname: '',\n                  description: '',\n              }\n    )\n\n    const [imagePreview, setImagePreview] = React.useState<any>()\n    const [image, setImage] = React.useState<any>()\n\n    const [editImageUri, setEditImageUri] = React.useState<any>()\n\n    const [errors, setErrors] = React.useState<any>({})\n\n    const [uploadProgress, setUploadProgress] = React.useState<any>()\n\n    const uploading = uploadProgress !== undefined\n\n    const onUploadProgress = (e: any) => {\n        const p = (e.loaded / e.total) * 100\n        setUploadProgress(p === 100 ? undefined : p)\n    }\n\n    const removePhoto = () => {\n        setImagePreview(undefined)\n        setImage(undefined)\n\n        if (!edit || !data) return\n        setData({ ...data!!, deletePhoto: true })\n    }\n\n    const deletable = () =>\n        edit && session?.admin && session?.userId !== parseInt(id!!)\n\n    const deleteUser = async (e: any) => {\n        e.preventDefault()\n\n        if (uploading) return\n        if (!deletable()) return\n        const r = await userService.deleteUser(data?.id!!)\n\n        switch (r.status) {\n            case HttpStatusCode.OK:\n                history.push('/')\n                break\n            case HttpStatusCode.Forbidden:\n            case HttpStatusCode.NotFound:\n                history.goBack()\n        }\n    }\n\n    const doSignup = async () => {\n        const r = await userService.signup(data!!, image, onUploadProgress)\n\n        switch (r.status) {\n            case HttpStatusCode.OK:\n                break\n            case HttpStatusCode.NoContent:\n                history.push('/')\n                return\n            case HttpStatusCode.BadRequest:\n                setErrors((r.data as any).error)\n                return\n        }\n\n        const rLogin = await userService.login({\n            username: data!!.nickname,\n            password: data!!.password,\n        })\n\n        switch (rLogin.status) {\n            case HttpStatusCode.OK:\n            case HttpStatusCode.NoContent:\n                history.push('/')\n                break\n        }\n    }\n\n    const doEdit = async () => {\n        const r = await userService.edit(data!!, image, onUploadProgress)\n\n        if (r.status !== HttpStatusCode.OK) setErrors((r.data as any).error)\n        else history.goBack()\n    }\n\n    const doForm = (e: any) => {\n        e.preventDefault()\n\n        if (uploading || !data) return\n\n        if (edit) doEdit()\n        else doSignup()\n    }\n\n    const selectPhoto = (e: any) => {\n        const file = e.target.files[0]\n        const image = URL.createObjectURL(file)\n        setImagePreview(image)\n        setImage(file)\n        setData({ ...data!!, deletePhoto: false })\n    }\n\n    React.useEffect(() => {\n        const handleNotFound = () => history.push('/404')\n        const handleNotPermission = () => history.goBack()\n\n        const fetchUser = async () => {\n            const session = sessionService.current()\n            if (userId !== session?.userId && !session?.admin) {\n                handleNotPermission()\n                return\n            }\n\n            const r = await userService.getDetailedUser(userId!!)\n\n            switch (r.status) {\n                case HttpStatusCode.OK:\n                    const u = r.data\n                    setData({\n                        id: u.id,\n                        name: u.name,\n                        surname: u.surname,\n                        email: u.email,\n                        password: '',\n                        repeatedPassword: '',\n                        nickname: u.nickname,\n                        description: u.description,\n                    })\n\n                    setEditImageUri(u.profileImgUri)\n                    break\n                case HttpStatusCode.NotFound:\n                    handleNotFound()\n            }\n        }\n\n        if (edit) fetchUser()\n    }, [edit, userService, userId, history, sessionService])\n\n    React.useEffect(() => {\n        const loadImage = async () => {\n            const r = await resources.load(editImageUri)\n\n            if (r.status !== HttpStatusCode.OK) return\n\n            setImagePreview(URL.createObjectURL(r.data))\n        }\n\n        if (editImageUri) loadImage()\n    }, [editImageUri, resources])\n\n    if (!edit && sessionService.isLogged()) return <Redirect to=\"/\" />\n    if (edit && userId === undefined) return <Redirect to={`/vendor/${id}`} />\n\n    return (\n        <>\n            {edit ? <EditTitle /> : <SignupTitle />}\n\n            <div className={classes.container}>\n                <div className={classes.upload}>\n                    {imagePreview && (\n                        <IconButton\n                            component=\"span\"\n                            onClick={removePhoto}\n                            className={classes.deleteImage}\n                        >\n                            <DeleteIcon color=\"error\" />\n                        </IconButton>\n                    )}\n                    <input\n                        accept=\".jpg,.jpeg,.png\"\n                        id=\"profile-img-upload\"\n                        type=\"file\"\n                        onChange={selectPhoto}\n                    />\n                    <label htmlFor=\"profile-img-upload\">\n                        <IconButton component=\"span\">\n                            <Avatar\n                                className={classes.avatar}\n                                src={imagePreview}\n                            />\n                        </IconButton>\n                    </label>\n                    <Typography\n                        variant=\"caption\"\n                        color={'image' in errors ? 'error' : 'textSecondary'}\n                    >\n                        {t('signup.field.photo_footer')}\n                    </Typography>\n                </div>\n\n                {data && (\n                    <SignupFormComponent\n                        {...{\n                            doForm,\n                            data,\n                            errors,\n                            setData,\n                            uploading,\n                            edit,\n                            deleteUser: deletable() ? deleteUser : undefined,\n                        }}\n                    />\n                )}\n            </div>\n\n            <Backdrop className={classes.backdrop} open={uploading}>\n                <CircularProgressIndicator value={uploadProgress} size={52} />\n            </Backdrop>\n        </>\n    )\n}\n\nexport default Signup\n","import { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        title: {\n            margin: theme.spacing(3),\n            textAlign: 'center',\n            fontWeight: 400,\n        },\n        subtitle: {\n            margin: theme.spacing(2, 'auto', 0, 'auto'),\n            paddingLeft: theme.spacing(2),\n            maxWidth: 1800,\n            fontWeight: 100,\n        },\n        categories: {\n            marginLeft: 'auto',\n            marginRight: 'auto',\n            '& > div': {\n                margin: theme.spacing(0.5),\n                padding: theme.spacing(3, 0),\n                '& > span': {\n                    fontWeight: 'bold',\n                },\n                boxShadow: '0px .5px .5px #00000055',\n            },\n            display: 'flex',\n            maxWidth: '100%',\n            overflowX: 'auto',\n        },\n        divider: {\n            margin: theme.spacing(5, 3, 2),\n        },\n        slider: {\n            margin: '0 auto auto',\n            maxWidth: '100%',\n        },\n    })\n)\n","import React from 'react'\n\nimport { RecommenderAPI, RecommenderService } from '../api'\n\nexport const RecommenderContext = React.createContext<RecommenderService>(\n    new RecommenderAPI()\n)\n\nconst useRecommenderService = () => React.useContext(RecommenderContext)\n\nexport default useRecommenderService\n","import Home from './Home'\n\nexport default Home","import React from 'react'\n\nimport { Loading, ProductSlider } from '../../components'\n\nimport {\n    useCartService,\n    useFavoriteService,\n    useProductService,\n} from '../../services'\nimport { PreviewProduct, ProductCategory } from '../../types'\n\nimport { HttpStatusCode } from '../../utils'\n\nimport Typography from '@material-ui/core/Typography'\nimport Chip from '@material-ui/core/Chip'\nimport Divider from '@material-ui/core/Divider'\n\nimport { useTranslation } from 'react-i18next'\nimport { useStyles } from './Home.style'\n\nimport { RouteComponentProps } from 'react-router'\nimport useRecommenderService from '../../services/RecommenderService'\n\nconst Home: React.FC<RouteComponentProps> = ({ history }) => {\n    const productService = useProductService()\n    const favService = useFavoriteService()\n    const cartService = useCartService()\n    const recommenderService = useRecommenderService()\n\n    const { t } = useTranslation()\n\n    const classes = useStyles()\n\n    const [categories, setCategories] = React.useState<ProductCategory[]>()\n\n    const [popular, setPopular] = React.useState<PreviewProduct[] | null>()\n    const [recommended, setRecommended] =\n        React.useState<PreviewProduct[] | null>()\n\n    React.useEffect(() => {\n        const fetchRecommended = async () => {\n            const r = await recommenderService.getFor()\n            if (r.status === HttpStatusCode.OK) setRecommended(r.data)\n            else setRecommended(null)\n        }\n\n        const fetchPopular = async () => {\n            const r = await recommenderService.getPopular()\n            if (r.status === HttpStatusCode.OK) setPopular(r.data)\n            else setPopular(null)\n        }\n\n        fetchRecommended()\n        fetchPopular()\n    }, [recommenderService])\n\n    React.useEffect(() => {\n        const fetchCategories = async () => {\n            const r = await productService.findCategories()\n\n            if (r.status === HttpStatusCode.OK) setCategories(r.data)\n        }\n\n        if (!categories) fetchCategories()\n    }, [productService, categories])\n\n    const handleCategory = (id: number) =>\n        history.push('/search/all', { all: true, category: id })\n\n    return (\n        <>\n            <Typography\n                className={classes.title}\n                variant=\"h2\"\n                component=\"h1\"\n                color=\"textSecondary\"\n            >\n                {t('home.title')}\n            </Typography>\n            <div className={classes.categories}>\n                {categories &&\n                    categories.map((c) => (\n                        <Chip\n                            key={c.id}\n                            color=\"secondary\"\n                            onClick={() => handleCategory(c.id)}\n                            label={t(`category.${c.name}`)}\n                        />\n                    ))}\n            </div>\n            <Divider className={classes.divider} />\n\n            <div className={classes.slider}>\n                {popular ? (\n                    <>\n                        <Typography\n                            className={classes.subtitle}\n                            variant=\"h5\"\n                            component=\"h2\"\n                            color=\"textSecondary\"\n                        >\n                            {t('home.weekly_popular')}\n                        </Typography>\n                        <ProductSlider\n                            {...{\n                                products: popular,\n                                productService,\n                                cartService,\n                                favService,\n                            }}\n                        />\n                    </>\n                ) : popular === undefined ? (\n                    <Loading />\n                ) : (\n                    <></>\n                )}\n            </div>\n\n            <div className={classes.slider}>\n                {recommended ? (\n                    <>\n                        <Typography\n                            className={classes.subtitle}\n                            variant=\"h5\"\n                            component=\"h2\"\n                            color=\"textSecondary\"\n                        >\n                            {t('home.recommended')}\n                        </Typography>\n                        <ProductSlider\n                            {...{\n                                products: recommended,\n                                productService,\n                                cartService,\n                                favService,\n                            }}\n                        />\n                    </>\n                ) : recommended === undefined ? (\n                    <Loading />\n                ) : (\n                    <></>\n                )}\n            </div>\n        </>\n    )\n}\n\nexport default Home\n","import React from 'react'\n\nimport Typography from '@material-ui/core/Typography'\nimport { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\nimport { useTranslation } from 'react-i18next'\n\nconst useStyle = makeStyles((theme: Theme) =>\n    createStyles({\n        main: {\n            margin: 'auto',\n            userSelect: 'none',\n            fontSize: 'xxx-large',\n            color: theme.palette.grey[400],\n        },\n    })\n)\n\nconst PageNotFound = () => {\n    const classes = useStyle()\n    const { t } = useTranslation()\n\n    return (\n        <Typography className={classes.main}>{t('error.not_found')}</Typography>\n    )\n}\n\nexport default PageNotFound\n","import { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {},\n        subtitle: {\n            margin: theme.spacing(2, 'auto', 0, 'auto'),\n            paddingLeft: theme.spacing(2),\n            maxWidth: 1800,\n            fontWeight: 100,\n        },\n        bottom: {\n            marginTop: theme.spacing(2),\n        },\n    })\n)\n","import { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            margin: theme.spacing(2),\n            display: 'grid',\n            [theme.breakpoints.up('md')]: {\n                gridTemplateColumns: '1fr 1.5fr',\n            },\n        },\n        image: {\n            margin: 'auto',\n            [theme.breakpoints.up('md')]: {\n                padding: theme.spacing(2, 2, 2, 1),\n            },\n            padding: theme.spacing(1, 1, 0, 0),\n            display: 'flex',\n            flexDirection: 'column',\n            '& img': {\n                display: 'block',\n                width: '100%',\n                borderRadius: 4,\n            },\n        },\n        images: {\n            display: 'grid',\n            gridTemplateColumns: 'repeat(4, 1fr)',\n            alignItems: 'center',\n        },\n        mainImage: {\n            backgroundColor: theme.palette.grey[100],\n            '& img': {\n                maxHeight: 350,\n                maxWidth: 450,\n            },\n        },\n        imagePreview: {\n            '& img': {\n                maxHeight: 100,\n                maxWidth: 110,\n                cursor: 'pointer',\n            },\n        },\n        holder: {\n            margin: theme.spacing(0, 0, 1, 1),\n            alignItems: 'center',\n            display: 'flex',\n        },\n        subholder: {\n            margin: 'auto',\n        },\n        details: {\n            margin: theme.spacing(1, 1, 0, 0),\n            paddingRight: theme.spacing(1),\n            display: 'flex',\n            flexDirection: 'column',\n            '& > h1': {\n                overflowWrap: 'anywhere',\n            },\n        },\n        catVendorVisits: {\n            display: 'flex',\n        },\n        visits: {\n            display: 'flex',\n            marginLeft: 'auto',\n            '& > span': {\n                marginLeft: theme.spacing(1),\n            },\n        },\n        descriptionBuy: {\n            display: 'flex',\n            flexDirection: 'row',\n            justifyContent: 'space-between',\n            height: '100%',\n            [theme.breakpoints.down('sm')]: {\n                marginLeft: theme.spacing(2),\n                flexWrap: 'wrap',\n                '& > *': {\n                    flexBasis: '100%',\n                },\n            },\n        },\n        description: {\n            [theme.breakpoints.up('md')]: {\n                flexBasis: '75%',\n            },\n            color: theme.palette.grey[700],\n            marginTop: theme.spacing(2),\n            paddingBottom: theme.spacing(2),\n            wordBreak: 'break-word',\n            whiteSpace: 'pre-wrap',\n        },\n        infoPair: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            width: '100%',\n            '& > h1': {\n                wordBreak: 'break-word',\n            },\n        },\n        buttons: {\n            display: 'flex',\n            justifyContent: 'end',\n            marginBottom: theme.spacing(2),\n            flexWrap: 'wrap',\n            marginLeft: 'auto',\n        },\n        buyHolder: {\n            maxWidth: 200,\n            margin: 'auto',\n            marginTop: 'auto',\n            marginBottom: 'auto',\n            display: 'flex',\n            flexDirection: 'column',\n            padding: theme.spacing(2),\n            '& > *': {\n                margin: 'auto',\n            },\n        },\n    })\n)\n","import ProductInfo from './ProductInfo'\n\nexport default ProductInfo\n","import React from 'react'\n\nimport { useHistory } from 'react-router'\n\nimport useTheme from '@material-ui/core/styles/useTheme'\n\nimport { useTranslation } from 'react-i18next'\n\nimport Rating from '@material-ui/lab/Rating'\nimport Paper from '@material-ui/core/Paper'\nimport Typography from '@material-ui/core/Typography'\nimport IconButton from '@material-ui/core/IconButton'\nimport FavoriteBorder from '@material-ui/icons/FavoriteBorder'\nimport EditOutlined from '@material-ui/icons/EditOutlined'\nimport ReportOutlined from '@material-ui/icons/ReportOutlined'\nimport Favorite from '@material-ui/icons/Favorite'\nimport Button from '@material-ui/core/Button'\nimport Autocomplete from '@material-ui/lab/Autocomplete'\nimport TextField from '@material-ui/core/TextField'\nimport Link from '@material-ui/core/Link'\nimport VisibilityIcon from '@material-ui/icons/VisibilityOutlined'\nimport AssessmentIcon from '@material-ui/icons/AssessmentOutlined'\n\nimport clsx from 'clsx'\n\nimport { useStyles } from './ProductInfo.style'\n\nimport { Product } from '../../../../types'\nimport {\n    useCartService,\n    useFavoriteService,\n    useResourceService,\n    useSessionService,\n} from '../../../../services'\nimport { Constants, HttpStatusCode } from '../../../../utils'\nimport { ProductImg, ReportDialog } from '../../../../components'\nimport { Hidden } from '@material-ui/core'\n\ninterface ProductInfoParams {\n    product: Product\n}\n\nconst ProductInfo: React.FC<ProductInfoParams> = ({ product }) => {\n    const history = useHistory()\n\n    const favService = useFavoriteService()\n    const cartService = useCartService()\n    const resources = useResourceService()\n    const sessionService = useSessionService()\n\n    const { t } = useTranslation()\n\n    const classes = useStyles()\n    const theme = useTheme()\n\n    const [favorite, setFavorite] = React.useState<boolean>()\n    const [amount, setAmount] = React.useState<number>(0)\n    const [amounts, setAmounts] = React.useState<number[]>([])\n    const [selectedImgUrl, setSelectedImgUrl] = React.useState<string>()\n    const [selectedImg, setSelectedImg] = React.useState<any>()\n\n    const [reporting, setReporting] = React.useState(false)\n\n    const session = sessionService.current()\n    const logged = sessionService.isLogged()\n    const owner = session?.userId === product.userId\n    const admin = session?.admin\n    const editable = owner || admin\n\n    const addToFav = async (e: any) => {\n        e.stopPropagation()\n\n        const r = await (favorite\n            ? favService.remove(product.id)\n            : favService.add(product.id))\n\n        if (r.status !== HttpStatusCode.OK) return\n\n        setFavorite(!favorite)\n    }\n\n    const addToCart = (e: any) => {\n        e.stopPropagation()\n        cartService.update({\n            productId: product.id,\n            amount,\n            add: true,\n        })\n    }\n\n    const edit = () => {\n        if (editable) history.push(`/product/${product.id}/edit`)\n    }\n\n    const reports = () => {\n        if (admin) history.push(`/reports/${product.id}`)\n    }\n\n    const report = () => setReporting(true)\n\n    const checkVendor = (e: any) => {\n        e.preventDefault()\n        history.push(`/vendor/${product.userId}`)\n    }\n\n    React.useEffect(() => {\n        setFavorite(product.fav === true)\n\n        let amnts = Array.from(\n            { length: Math.min(product.stock!!, 20) },\n            (_, i) => i + 1\n        )\n\n        if (amnts.length === 0) amnts = [0]\n\n        setAmounts(amnts)\n        setAmount(amnts[0])\n\n        if (product.images.length > 0) setSelectedImgUrl(product.images[0].u)\n        else {\n            setSelectedImgUrl(undefined)\n            setSelectedImg(undefined)\n        }\n    }, [product])\n\n    const InfoHeader = (\n        <>\n            <div className={classes.infoPair}>\n                <Typography variant=\"h5\" component=\"h1\">\n                    {product.name}\n                </Typography>\n                <div className={classes.buttons}>\n                    {admin && (\n                        <IconButton size=\"small\" onClick={reports}>\n                            <AssessmentIcon />\n                        </IconButton>\n                    )}\n                    {editable && (\n                        <IconButton id=\"edit-bt\" size=\"small\" onClick={edit}>\n                            <EditOutlined />\n                        </IconButton>\n                    )}\n                    {logged && (\n                        <IconButton size=\"small\" onClick={report}>\n                            <ReportOutlined />\n                        </IconButton>\n                    )}\n                    {!owner && (\n                        <IconButton\n                            id=\"fav-bt\"\n                            className={\n                                favorite\n                                    ? 'favorite-selected'\n                                    : 'favorite-not-selected'\n                            }\n                            size=\"small\"\n                            onClick={addToFav}\n                        >\n                            {favorite ? (\n                                <Favorite\n                                    htmlColor={theme.palette.error.main}\n                                />\n                            ) : (\n                                <FavoriteBorder />\n                            )}\n                        </IconButton>\n                    )}\n                </div>\n            </div>\n            <Typography variant=\"subtitle2\" component=\"h2\">\n                {product.brand}\n            </Typography>\n            <div className={classes.catVendorVisits}>\n                <div>\n                    <Typography variant=\"button\">\n                        {t(`category.${product.category.name}`)}\n                    </Typography>\n                    {' – '}\n                    <Link\n                        href={`/vendor/${product.userId}`}\n                        onClick={checkVendor}\n                        variant=\"subtitle1\"\n                    >\n                        {product.vendorNick}\n                    </Link>\n                </div>\n                <div className={classes.visits}>\n                    <VisibilityIcon color=\"disabled\" />\n                    <Typography variant=\"button\" color=\"textSecondary\">\n                        {product.visits}\n                    </Typography>\n                </div>\n            </div>\n            <div className={classes.infoPair}>\n                <Typography variant=\"h6\">\n                    {product.price} {'€'}\n                </Typography>\n                <Rating value={product.rating} precision={0.1} readOnly />\n            </div>\n        </>\n    )\n\n    return (\n        <>\n            <div className={classes.root}>\n                <Hidden mdUp>{InfoHeader}</Hidden>\n                <div className={classes.image}>\n                    <div className={classes.holder}>\n                        <Paper\n                            className={clsx(\n                                classes.subholder,\n                                classes.mainImage\n                            )}\n                        >\n                            <ProductImg\n                                src={selectedImg ?? Constants.FALLBACK_IMAGE}\n                                alt={product.name}\n                            />\n                        </Paper>\n                    </div>\n                    <div className={classes.images}>\n                        {product.images.map((im) => (\n                            <div\n                                key={im.i}\n                                className={clsx(\n                                    classes.holder,\n                                    classes.imagePreview\n                                )}\n                            >\n                                <Paper\n                                    className={classes.subholder}\n                                    onClick={() => setSelectedImgUrl(im.u)}\n                                >\n                                    <ProductImg\n                                        url={im.u}\n                                        resources={resources}\n                                        selectedImgUrl={selectedImgUrl}\n                                        setSelectedImg={setSelectedImg}\n                                        alt={`I${im.i}`}\n                                    />\n                                </Paper>\n                            </div>\n                        ))}\n                    </div>\n                </div>\n                <div className={classes.details}>\n                    <Hidden smDown>{InfoHeader}</Hidden>\n                    <div className={classes.descriptionBuy}>\n                        <Typography\n                            variant=\"body2\"\n                            className={classes.description}\n                        >\n                            {product.description}\n                        </Typography>\n                        <div>\n                            <Paper className={classes.buyHolder}>\n                                <Autocomplete\n                                    options={amounts}\n                                    getOptionLabel={(i) => `${i}`}\n                                    value={amount}\n                                    disabled={amount === 0}\n                                    onChange={(e, v) => setAmount(v)}\n                                    style={{ width: 120 }}\n                                    disableClearable\n                                    renderInput={(params) => (\n                                        <TextField\n                                            {...params}\n                                            name=\"amount\"\n                                            label={t('product.amount')}\n                                            variant=\"outlined\"\n                                            margin=\"dense\"\n                                        />\n                                    )}\n                                />\n                                <div>\n                                    <Button\n                                        id=\"buy-bt\"\n                                        variant=\"outlined\"\n                                        size=\"small\"\n                                        color=\"secondary\"\n                                        disabled={amount === 0}\n                                        onClick={addToCart}\n                                    >\n                                        {t(\n                                            amount === 0\n                                                ? 'product.no_stock'\n                                                : 'product.buy'\n                                        )}\n                                    </Button>\n                                </div>\n                            </Paper>\n                        </div>\n                    </div>\n                </div>\n            </div>\n            <ReportDialog\n                {...{ product, open: reporting, setOpen: setReporting }}\n            />\n        </>\n    )\n}\n\nexport default ProductInfo\n","import ProductPage from './ProductPage'\n\nexport default ProductPage\n","import React from 'react'\n\nimport { RouteComponentProps } from 'react-router'\n\nimport {\n    useCartService,\n    useFeedbackService,\n    useFavoriteService,\n    useProductService,\n} from '../../services'\n\nimport { ActionType, PreviewProduct, Product } from '../../types'\nimport { HttpStatusCode } from '../../utils'\n\nimport { Loading, ProductSlider } from '../../components'\n\nimport { useTranslation } from 'react-i18next'\n\nimport Typography from '@material-ui/core/Typography'\n\nimport { useStyles } from './ProductPage.style'\nimport ProductInfo from './components'\nimport useRecommenderService from '../../services/RecommenderService'\n\ninterface ProductPageParams {\n    id: string\n}\n\nconst ProductPage: React.FC<RouteComponentProps<ProductPageParams>> = ({\n    match,\n    history,\n}) => {\n    const { id } = match.params\n\n    const productService = useProductService()\n    const favService = useFavoriteService()\n    const cartService = useCartService()\n    const feedbackService = useFeedbackService()\n    const recommenderService = useRecommenderService()\n\n    const { t } = useTranslation()\n\n    const classes = useStyles()\n\n    const [product, setProduct] = React.useState<Product>()\n\n    const [recommended, setRecommended] =\n        React.useState<PreviewProduct[] | null>()\n\n    React.useEffect(() => {\n        if (product) document.title = product.name\n    }, [product])\n\n    React.useEffect(() => {\n        const handleNotFound = () => {\n            history.replace('/404')\n        }\n\n        const fetchProduct = async (productId: number) => {\n            const r = await productService.getProduct(productId)\n\n            switch (r.status) {\n                case HttpStatusCode.OK:\n                    setProduct(r.data)\n                    break\n                case HttpStatusCode.NotFound:\n                    handleNotFound()\n            }\n        }\n\n        let productId = parseInt(id)\n\n        if (isNaN(productId)) handleNotFound()\n        else {\n            fetchProduct(productId)\n            feedbackService.collect({\n                action: ActionType.VISIT,\n                item: productId,\n            })\n        }\n    }, [history, productService, feedbackService, id])\n\n    React.useEffect(() => {\n        const fetchRecommendations = async (p: number) => {\n            const r = await recommenderService.getFor(p)\n\n            if (r.status === HttpStatusCode.OK) setRecommended(r.data)\n            else setRecommended(null)\n        }\n\n        let productId = parseInt(id)\n        if (productId) fetchRecommendations(productId)\n    }, [history, recommenderService, id])\n\n    return product !== undefined ? (\n        <div className={classes.root}>\n            <ProductInfo {...{ product }} />\n            <div className={classes.bottom}>\n                <Typography\n                    variant=\"h5\"\n                    component=\"h2\"\n                    color=\"textSecondary\"\n                    className={classes.subtitle}\n                >\n                    {t('info.interesting')}\n                </Typography>\n\n                {recommended ? (\n                    <ProductSlider\n                        {...{\n                            products: recommended,\n                            productService,\n                            cartService,\n                            favService,\n                        }}\n                    />\n                ) : recommended === undefined ? (\n                    <Loading />\n                ) : (\n                    <></>\n                )}\n            </div>\n        </div>\n    ) : (\n        <Loading />\n    )\n}\n\nexport default ProductPage\n","import { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            margin: theme.spacing(4, 8),\n            [theme.breakpoints.down('sm')]: {\n                margin: theme.spacing(2),\n            },\n        },\n        header: {\n            display: 'flex',\n            flexDirection: 'row',\n            marginBottom: theme.spacing(2),\n            alignItems: 'center',\n        },\n        title: {\n            marginLeft: theme.spacing(1),\n        },\n        images: {\n            width: '65%',\n            [theme.breakpoints.down('sm')]: {\n                width: '100%',\n                margin: theme.spacing(0, 0, 2, -0.5),\n            },\n            display: 'grid',\n            marginLeft: 'auto',\n            marginRight: 'auto',\n            marginBottom: theme.spacing(2),\n            gridTemplateColumns: 'repeat(4, 1fr)',\n            '& img': {\n                display: 'block',\n                width: '100%',\n            },\n        },\n        deleteImage: {\n            position: 'absolute',\n            top: 0,\n            right: 0,\n            zIndex: 1,\n        },\n        imagePreview: {},\n        holder: {\n            position: 'relative',\n            margin: theme.spacing(0, 0, 1, 1),\n            backgroundColor: theme.palette.grey[100],\n            justifyItems: 'center',\n            alignItems: 'center',\n            display: 'flex',\n            '& > input': {\n                display: 'none',\n            },\n        },\n        backdrop: {\n            zIndex: theme.zIndex.drawer + 1,\n            color: '#fff',\n        },\n    })\n)\n","import { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        form: {\n            display: 'flex',\n            flexDirection: 'column',\n        },\n        buttons: {\n            margin: theme.spacing(1),\n            marginLeft: 'auto',\n            padding: theme.spacing(1, 5),\n        },\n        input: {\n            margin: theme.spacing(1, 0),\n            backgroundColor: theme.palette.background.paper,\n            borderRadius: 4,\n        },\n        stock: {\n            marginLeft: theme.spacing(2),\n        },\n        bottom: {\n            marginLeft: 'auto',\n        },\n        pair: {\n            display: 'grid',\n            gridTemplateColumns: '1fr 1fr',\n            '& > label': {\n                marginRight: 'auto',\n                marginLeft: 'auto',\n            },\n        },\n    })\n)\n","import ProductEditForm from './ProductEditForm'\n\nexport default ProductEditForm\n","import React from 'react'\n\nimport TextField from '@material-ui/core/TextField'\nimport Button from '@material-ui/core/Button'\nimport Autocomplete from '@material-ui/lab/Autocomplete'\nimport Switch from '@material-ui/core/Switch'\nimport FormControlLabel from '@material-ui/core/FormControlLabel'\nimport InputAdornment from '@material-ui/core/InputAdornment'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport SaveIcon from '@material-ui/icons/Save'\n\nimport { useTranslation } from 'react-i18next'\n\nimport { ProductForm } from '../../../../api/ProductAPI'\n\nimport { useStyles } from './ProductEditForm.style'\nimport { ProductCategory } from '../../../../types'\n\nimport clsx from 'clsx'\nimport { ValidationTools } from '../../../../utils'\n\ninterface ProductEditFormProps {\n    updateProduct: (e: any) => void\n    deleteProduct: (e: any) => void\n    data: ProductForm\n    setData: (data: any) => void\n    errors: any\n    categories: ProductCategory[]\n    uploading: boolean\n}\n\nconst ProductEditForm: React.FC<ProductEditFormProps> = ({\n    updateProduct,\n    deleteProduct,\n    data,\n    setData,\n    errors,\n    categories,\n    uploading,\n}) => {\n    const { t } = useTranslation()\n\n    const classes = useStyles()\n\n    const [category, setCategory] = React.useState<ProductCategory>(\n        categories.find((c) => c.id === data.category) ?? categories[0]\n    )\n\n    const edit = data.id !== undefined\n\n    const updateData = (actual: {}) => {\n        setData({ ...data, ...actual })\n    }\n\n    const changeData = (field: string) => (e: any) =>\n        updateData({ [field]: e.target.value })\n\n    const { errorFor, helperFor } = ValidationTools.createValidator(t, errors)\n\n    React.useEffect(() => {\n        if (category !== undefined) updateData({ category: category.id })\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [categories])\n\n    return (\n        <form\n            id=\"product-form\"\n            className={classes.form}\n            onSubmitCapture={updateProduct}\n            noValidate\n            autoComplete=\"off\"\n        >\n            <TextField\n                className={classes.input}\n                name=\"name\"\n                label={t('product.name')}\n                variant=\"outlined\"\n                value={data['name']}\n                onChange={changeData('name')}\n                error={errorFor('name')}\n                helperText={helperFor('name')}\n                required\n            />\n\n            <TextField\n                className={classes.input}\n                name=\"brand\"\n                label={t('product.brand')}\n                variant=\"outlined\"\n                value={data['brand']}\n                onChange={changeData('brand')}\n                error={errorFor('brand')}\n                helperText={helperFor('brand')}\n                required\n            />\n\n            <div className={classes.pair}>\n                <TextField\n                    className={classes.input}\n                    name=\"price\"\n                    label={t('product.price')}\n                    variant=\"outlined\"\n                    value={data['price']}\n                    onChange={changeData('price')}\n                    error={errorFor('price')}\n                    helperText={helperFor('price')}\n                    InputProps={{\n                        endAdornment: (\n                            <InputAdornment position=\"end\">€</InputAdornment>\n                        ),\n                    }}\n                    required\n                />\n\n                <FormControlLabel\n                    control={\n                        <Switch\n                            checked={data['hidden']}\n                            onChange={(e) =>\n                                updateData({ hidden: e.target.checked })\n                            }\n                            name=\"hidden\"\n                            color=\"primary\"\n                        />\n                    }\n                    label={t('product.hidden')}\n                />\n            </div>\n\n            <div className={classes.pair}>\n                <Autocomplete\n                    className={classes.input}\n                    options={categories}\n                    getOptionLabel={(c) => t(`category.${c.name!!}`)}\n                    value={category}\n                    onChange={(e, v) => {\n                        setCategory(v)\n                        updateData({ category: v.id })\n                    }}\n                    disableClearable\n                    renderInput={(params) => (\n                        <TextField\n                            {...params}\n                            name=\"category\"\n                            label={t('product.category')}\n                            variant=\"outlined\"\n                            error={errorFor('category')}\n                            helperText={helperFor('category')}\n                        />\n                    )}\n                />\n\n                <TextField\n                    className={clsx(classes.input, classes.stock)}\n                    name=\"stock\"\n                    label={t('product.stock')}\n                    variant=\"outlined\"\n                    type=\"number\"\n                    value={data['stock']}\n                    onChange={changeData('stock')}\n                    error={errorFor('stock')}\n                    helperText={helperFor('stock')}\n                    InputLabelProps={{\n                        shrink: true,\n                    }}\n                    required\n                />\n            </div>\n\n            <TextField\n                className={classes.input}\n                name=\"description\"\n                label={t('product.description')}\n                variant=\"outlined\"\n                value={data['description']}\n                onChange={changeData('description')}\n                error={errorFor('description')}\n                helperText={helperFor('description')}\n                multiline\n                rows={17}\n            />\n\n            <div className={classes.bottom}>\n                {edit && (\n                    <Button\n                        className={classes.buttons}\n                        disableElevation\n                        id=\"delete-bt\"\n                        onClick={deleteProduct}\n                        variant=\"contained\"\n                        color=\"secondary\"\n                        type=\"submit\"\n                        size=\"large\"\n                        disabled={uploading}\n                        startIcon={<DeleteIcon />}\n                    >\n                        {t('product.delete')}\n                    </Button>\n                )}\n\n                <Button\n                    className={classes.buttons}\n                    id=\"publish-bt\"\n                    variant=\"contained\"\n                    color=\"primary\"\n                    type=\"submit\"\n                    size=\"large\"\n                    disabled={uploading}\n                    startIcon={<SaveIcon />}\n                >\n                    {t('product.save')}\n                </Button>\n            </div>\n        </form>\n    )\n}\n\nexport default ProductEditForm\n","import ProductEdit from './ProductEdit'\n\nexport default ProductEdit\n","import React from 'react'\n\nimport { useTranslation } from 'react-i18next'\nimport {\n    useProductService,\n    useResourceService,\n    useSessionService,\n} from '../../services'\nimport { Constants, HttpStatusCode } from '../../utils'\n\nimport { ProductForm } from '../../api/ProductAPI'\n\nimport { useStyles } from './ProductEdit.style'\nimport { RouteComponentProps } from 'react-router'\nimport {\n    CircularProgressIndicator,\n    Loading,\n    ProductImg,\n} from '../../components'\n\nimport Paper from '@material-ui/core/Paper'\nimport Typography from '@material-ui/core/Typography'\nimport IconButton from '@material-ui/core/IconButton'\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack'\nimport Backdrop from '@material-ui/core/Backdrop'\nimport DeleteIcon from '@material-ui/icons/Delete'\n\nimport { ProductEditForm } from './components'\nimport { ProductCategory } from '../../types'\n\ninterface ProductEditProps {\n    id?: string\n}\n\nconst ProductEdit: React.FC<RouteComponentProps<ProductEditProps>> = ({\n    match,\n    history,\n}) => {\n    const { id } = match.params\n\n    const { t } = useTranslation()\n\n    const productService = useProductService()\n    const sessionService = useSessionService()\n    const resources = useResourceService()\n\n    const classes = useStyles()\n\n    const edit = id !== undefined\n\n    const [categories, setCategories] = React.useState<ProductCategory[]>()\n    const [data, setData] = React.useState<ProductForm | undefined>(\n        edit\n            ? undefined\n            : {\n                  id: undefined,\n                  name: '',\n                  brand: '',\n                  description: '',\n                  price: 0,\n                  stock: 1,\n                  category: 0,\n                  hidden: false,\n              }\n    )\n\n    const [errors, setErrors] = React.useState<any>({})\n\n    const [uploadProgress, setUploadProgress] = React.useState<any>()\n\n    const uploading = uploadProgress !== undefined\n\n    const onUploadProgress = (e: any) => {\n        const p = (e.loaded / e.total) * 100\n        setUploadProgress(p === 100 ? undefined : p)\n    }\n\n    const [imagePreviews, setImagePreviews] = React.useState<any[]>(\n        new Array(Constants.MAX_PRODUCT_IMAGES)\n    )\n    const [files, setFiles] = React.useState<any[]>(\n        new Array(Constants.MAX_PRODUCT_IMAGES)\n    )\n    const [images, setImages] = React.useState<any[]>([])\n\n    const goBack = () => history.goBack()\n\n    const updateProduct = async (e: any) => {\n        e.preventDefault()\n\n        if (uploading) return\n        if (!data) return\n\n        const r = await productService.publishProduct(\n            data,\n            files,\n            onUploadProgress,\n            edit\n        )\n\n        switch (r.status) {\n            case HttpStatusCode.OK:\n            case HttpStatusCode.Forbidden:\n                history.push(`/product/${r.data}`)\n                break\n            case HttpStatusCode.BadRequest:\n                setErrors((r.data as any).error)\n        }\n    }\n\n    const deleteProduct = async (e: any) => {\n        e.preventDefault()\n\n        if (uploading) return\n        if (!edit) return\n        const r = await productService.deleteProduct(data?.id!!)\n\n        switch (r.status) {\n            case HttpStatusCode.OK:\n                history.push('/profile')\n                break\n            case HttpStatusCode.Forbidden:\n                goBack()\n        }\n    }\n\n    const removePhoto = (i: number) => {\n        setImagePreviews((current) => {\n            current[i] = undefined\n            return [...current]\n        })\n        setFiles((current) => {\n            current[i] = null\n            return [...current]\n        })\n        setImages((current) => {\n            const index = current.findIndex((im) => im?.i === i)\n            current[index] = undefined\n            return [...current]\n        })\n    }\n\n    const selectPhoto = (i: number, e: any) => {\n        const file = e.target.files[0]\n        const image = URL.createObjectURL(file)\n        setImagePreviews((current) => {\n            current[i] = image\n            return [...current]\n        })\n        setFiles((current) => {\n            current[i] = file\n            return [...current]\n        })\n    }\n\n    React.useEffect(() => {\n        const handleNotFound = () => history.push('/404')\n        const handleNotPermission = () => history.goBack()\n\n        const fetchProduct = async (productId: number) => {\n            const r = await productService.getProduct(productId)\n            const session = sessionService.current()\n\n            switch (r.status) {\n                case HttpStatusCode.OK:\n                    const p = r.data\n                    if (p.userId !== session?.userId && !session?.admin) {\n                        handleNotPermission()\n                        return\n                    }\n\n                    setData({\n                        id: p.id,\n                        name: p.name,\n                        brand: p.brand,\n                        description: p.description,\n                        price: p.price,\n                        stock: p.stock,\n                        category: p.category.id,\n                        hidden: p.hidden,\n                    })\n\n                    setImages(p.images)\n                    break\n                case HttpStatusCode.NotFound:\n                    handleNotFound()\n            }\n        }\n\n        if (edit) {\n            let productId = parseInt(id!!)\n            fetchProduct(productId)\n        }\n    }, [edit, productService, id, history, sessionService])\n\n    React.useEffect(() => {\n        const fetchCategories = async () => {\n            const r = await productService.findCategories()\n\n            if (r.status === HttpStatusCode.OK) setCategories(r.data)\n        }\n\n        if (!categories) fetchCategories()\n    }, [productService, categories])\n\n    return (\n        <>\n            {categories === undefined || data === undefined ? (\n                <Loading />\n            ) : (\n                <div className={classes.root}>\n                    <header className={classes.header}>\n                        <IconButton onClick={() => goBack()}>\n                            <ArrowBackIcon />\n                        </IconButton>\n                        <Typography\n                            className={classes.title}\n                            variant=\"h4\"\n                            component=\"h1\"\n                        >\n                            {edit ? t('product.edit') : t('product.publish')}\n                        </Typography>\n                    </header>\n                    <div className={classes.images}>\n                        {Array.from(\n                            { length: Constants.MAX_PRODUCT_IMAGES },\n                            (_, i) => i\n                        ).map((i) => {\n                            const url = images.find((im) => im?.i === i)?.u\n                            return (\n                                <Paper key={i} className={classes.holder}>\n                                    {(url || files[i]) && (\n                                        <IconButton\n                                            size=\"small\"\n                                            component=\"span\"\n                                            onClick={() => removePhoto(i)}\n                                            className={classes.deleteImage}\n                                        >\n                                            <DeleteIcon color=\"error\" />\n                                        </IconButton>\n                                    )}\n                                    <input\n                                        accept=\".jpg,.jpeg,.png\"\n                                        id={`product-img-upload-${i}`}\n                                        type=\"file\"\n                                        onChange={(e) => selectPhoto(i, e)}\n                                    />\n                                    <label htmlFor={`product-img-upload-${i}`}>\n                                        <IconButton component=\"span\">\n                                            <ProductImg\n                                                className={classes.imagePreview}\n                                                src={imagePreviews[i]}\n                                                url={url ?? undefined}\n                                                resources={resources}\n                                                alt={`I${i}`}\n                                            />\n                                        </IconButton>\n                                    </label>\n                                </Paper>\n                            )\n                        })}\n                    </div>\n                    <ProductEditForm\n                        {...{\n                            updateProduct,\n                            deleteProduct,\n                            errors,\n                            data,\n                            setData,\n                            categories,\n                            uploading,\n                        }}\n                    />\n                </div>\n            )}\n            <Backdrop className={classes.backdrop} open={uploading}>\n                <CircularProgressIndicator value={uploadProgress} size={52} />\n            </Backdrop>\n        </>\n    )\n}\n\nexport default ProductEdit\n","import React from 'react'\nimport { RouteComponentProps } from 'react-router'\n\nimport { useSessionService } from '../services'\n\nconst Logout: React.FC<RouteComponentProps> = ({ history }) => {\n    const sessionService = useSessionService()\n\n    React.useEffect(() => {\n        const logout = async () => {\n            if (sessionService.isLogged()) await sessionService.logout()\n\n            history.push('/')\n        }\n\n        logout()\n    }, [sessionService, history])\n\n    return <></>\n}\n\nexport default Logout\n","import { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            display: 'flex',\n            flexDirection: 'column',\n            alignItems: 'center',\n        },\n        controls: {\n            display: 'flex',\n            justifyContent: 'space-between',\n            alignItems: 'center',\n            flexWrap: 'wrap',\n            width: 'calc(100% - 32px)',\n            margin: theme.spacing(0, 4, 2, 4),\n            [theme.breakpoints.down('xs')]: {\n                width: 'calc(100% - 16px)',\n                margin: theme.spacing(0, 2, 2, 2),\n            },\n        },\n        categories: {\n            margin: theme.spacing(1.5, 0.5, 0.5),\n            '& > div': {\n                margin: theme.spacing(0.5),\n            },\n            display: 'flex',\n            maxWidth: '100%',\n            overflowX: 'auto',\n        },\n        filterInput: {\n            width: 200,\n        },\n        filterField: {\n            backgroundColor: theme.palette.background.paper,\n            borderRadius: 4,\n        },\n    })\n)\n","import React from 'react'\n\nimport { RouteComponentProps } from 'react-router'\n\nimport {\n    useCartService,\n    useFavoriteService,\n    useProductService,\n    useResourceService,\n} from '../../services'\n\nimport { PreviewProduct, ProductCategory } from '../../types'\n\nimport { PageContainer, ProductHolder } from '../../components'\nimport { HttpStatusCode } from '../../utils'\n\nimport Chip from '@material-ui/core/Chip'\nimport Typography from '@material-ui/core/Typography'\nimport TextField from '@material-ui/core/TextField'\nimport Autocomplete from '@material-ui/lab/Autocomplete'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\nimport ExpandLessIcon from '@material-ui/icons/ExpandLess'\n\nimport AccessTimeIcon from '@material-ui/icons/AccessTime'\n\nimport { useTranslation } from 'react-i18next'\n\nimport { useStyles } from './Search.style'\nimport { Paged } from '../../api/types'\n\ninterface SearchParams {\n    query: string\n}\n\nexport interface SearchLocationState {\n    category?: number\n    page?: number\n    all?: boolean\n    order?: number\n}\n\nconst sortingModes = [\n    { mode: -1, name: 'search.filter.recent', icon: <AccessTimeIcon /> },\n    { mode: 2, name: 'search.filter.price_up', icon: <ExpandLessIcon /> },\n    { mode: -2, name: 'search.filter.price_down', icon: <ExpandMoreIcon /> },\n]\n\nconst Search: React.FC<RouteComponentProps<SearchParams>> = ({\n    location,\n    history,\n    match,\n}) => {\n    const { query } = match.params\n\n    const state = location?.state as SearchLocationState\n\n    const { t } = useTranslation()\n\n    const productService = useProductService()\n    const cartService = useCartService()\n    const favService = useFavoriteService()\n    const resources = useResourceService()\n\n    const [shownItems, setShownItems] = React.useState<Paged<PreviewProduct>>()\n    const [categories, setCategories] = React.useState<ProductCategory[]>()\n\n    const [category, setCategory] = React.useState(state?.category)\n\n    const [selectedOrder, setSelectedOrder] = React.useState(sortingModes[0])\n    const [order, setOrder] = React.useState(state?.order ?? selectedOrder.mode)\n\n    const all = state?.all === true\n\n    const classes = useStyles()\n\n    const handleCategory = (id: number) => {\n        const newId = category === id ? undefined : id\n        history.push(location.pathname, {\n            all: all ? newId !== undefined : undefined,\n            category: newId,\n            page: undefined,\n            order,\n        })\n\n        setCategory(newId)\n    }\n\n    const handleOrder = (mode: any) => {\n        history.push(location.pathname, {\n            all,\n            category,\n            page: undefined,\n            order: mode.mode,\n        })\n\n        setSelectedOrder(mode)\n        setOrder(mode.mode)\n    }\n\n    React.useEffect(() => {\n        const fetchCategories = async () => {\n            const r = await productService.findCategories()\n\n            if (r.status === HttpStatusCode.OK) setCategories(r.data)\n        }\n\n        if (!categories) fetchCategories()\n    }, [productService, categories])\n\n    return (\n        <>\n            <div className={classes.root}>\n                <div className={classes.categories}>\n                    {shownItems !== undefined &&\n                        categories &&\n                        categories.map((c) => (\n                            <Chip\n                                key={c.id}\n                                color={\n                                    category === c.id ? 'secondary' : undefined\n                                }\n                                onClick={() => handleCategory(c.id)}\n                                label={t(`category.${c.name}`)}\n                            />\n                        ))}\n                </div>\n\n                {shownItems !== undefined && (\n                    <div className={classes.controls}>\n                        <Typography\n                            variant=\"h5\"\n                            component=\"h1\"\n                            color=\"textSecondary\"\n                        >\n                            {t('search.found')\n                                .replace('{0}', `${shownItems.total}`)\n                                .replace('{1}', () => query)}\n                        </Typography>\n                        <Autocomplete\n                            className={classes.filterInput}\n                            options={sortingModes}\n                            getOptionLabel={(m) => t(m.name)}\n                            value={selectedOrder}\n                            onChange={(e, v) => handleOrder(v)}\n                            disableClearable\n                            renderInput={(params) => (\n                                <TextField\n                                    {...params}\n                                    className={classes.filterField}\n                                    variant=\"outlined\"\n                                    margin=\"dense\"\n                                />\n                            )}\n                        />\n                    </div>\n                )}\n\n                <PageContainer\n                    request={(page) =>\n                        productService.searchProducts({\n                            query: all ? '' : query,\n                            page,\n                            category,\n                            order,\n                        })\n                    }\n                    itemRender={(product: PreviewProduct, i) => (\n                        <ProductHolder\n                            key={i}\n                            {...{ product, cartService, favService, resources }}\n                        />\n                    )}\n                    {...{ setShownItems, deps: [order, category, query] }}\n                />\n            </div>\n        </>\n    )\n}\n\nexport default Search\n","import { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        top: {\n            margin: theme.spacing(3, 4, 4, 4),\n            display: 'flex',\n            flexWrap: 'wrap',\n            '& > h1': {\n                margin: theme.spacing(1, 1, 0, 0),\n            },\n        },\n        toggler: {\n            margin: theme.spacing(1, 0, 'auto', 'auto'),\n            maxHeight: theme.spacing(5),\n            backgroundColor: theme.palette.background.paper,\n        },\n    })\n)\n","import Favorites from './Favorites'\n\nexport default Favorites\n","import React from 'react'\n\nimport { PreviewProduct, User } from '../../types'\n\nimport {\n    useCartService,\n    useFavoriteService,\n    useResourceService,\n} from '../../services'\n\nimport {\n    ContentWarn,\n    PageContainer,\n    ProductHolder,\n    UserHolder,\n} from '../../components'\n\nimport Favorite from '@material-ui/icons/Favorite'\nimport Typography from '@material-ui/core/Typography'\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup'\nimport ToggleButton from '@material-ui/lab/ToggleButton'\n\nimport { useTranslation } from 'react-i18next'\n\nimport { useStyles } from './Favorites.style'\n\nimport { RouteComponentProps } from 'react-router'\n\nconst Favorites: React.FC<RouteComponentProps> = ({ history, location }) => {\n    const favService = useFavoriteService()\n    const cartService = useCartService()\n    const resources = useResourceService()\n\n    const { t } = useTranslation()\n    const classes = useStyles()\n\n    const [productOrUser, setProductOrUser] = React.useState(\n        (location?.state as any)?.favType !== false\n    )\n\n    const handleType = (e: any, value: boolean) => {\n        history.push(location.pathname, {\n            favType: value,\n            page: undefined,\n        })\n\n        setProductOrUser(value)\n    }\n\n    const Empty = () => (\n        <ContentWarn>\n            <Favorite />\n            <Typography>{t('favorites.empty')}</Typography>\n        </ContentWarn>\n    )\n\n    return (\n        <>\n            <div className={classes.top}>\n                <Typography variant=\"h4\" component=\"h1\">\n                    {t('favorites.title')}\n                </Typography>\n                <ToggleButtonGroup\n                    value={productOrUser}\n                    exclusive\n                    onChange={handleType}\n                    className={classes.toggler}\n                >\n                    <ToggleButton value={true}>\n                        {t('favorites.products')}\n                    </ToggleButton>\n                    <ToggleButton value={false}>\n                        {t('favorites.vendors')}\n                    </ToggleButton>\n                </ToggleButtonGroup>\n            </div>\n\n            <PageContainer\n                request={(page) =>\n                    favService.getForUser({ page }, productOrUser)\n                }\n                itemRender={(item, i) =>\n                    productOrUser ? (\n                        <ProductHolder\n                            key={i}\n                            {...{\n                                product: item as PreviewProduct,\n                                cartService,\n                                favService,\n                                resources,\n                            }}\n                        />\n                    ) : (\n                        <UserHolder\n                            key={i}\n                            {...{\n                                user: item as User,\n                                favService,\n                                resources,\n                            }}\n                        />\n                    )\n                }\n                EmptyComponent={Empty}\n                {...{ setShownItems: () => undefined, deps: [productOrUser] }}\n            />\n        </>\n    )\n}\n\nexport default Favorites\n","import { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        header: {\n            margin: theme.spacing(2, 4),\n            display: 'flex',\n            flexDirection: 'row',\n            alignItems: 'center',\n            flexWrap: 'wrap',\n        },\n        title: {\n            userSelect: 'none',\n            marginRight: theme.spacing(1),\n        },\n        contentHolder: {\n            display: 'flex',\n        },\n        list: {\n            width: '100%',\n            maxWidth: 1280,\n            padding: theme.spacing(1),\n            margin: 'auto',\n        },\n        buyHolder: {\n            margin: theme.spacing(2, 0, 0, 'auto'),\n            display: 'flex',\n            flexDirection: 'column',\n            width: 200,\n            height: 100,\n            '& > *': {\n                margin: 'auto',\n            },\n        },\n        bottom: {\n            marginTop: theme.spacing(2),\n            '& > h2': {\n                margin: theme.spacing(2),\n            },\n        },\n    })\n)\n","import { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            padding: theme.spacing(1),\n            marginBottom: theme.spacing(1),\n            display: 'flex',\n            flexDirection: 'row',\n            height: 200,\n            [theme.breakpoints.down('xs')]: {\n                height: 400,\n                display: 'grid',\n                gridTemplateRows: '200px 200px',\n            },\n        },\n        title: {\n            display: 'flex',\n            '& > h2': {\n                cursor: 'pointer',\n            },\n            '& > *': {\n                alignSelf: 'center',\n            },\n            '& > p': {\n                marginLeft: theme.spacing(1),\n            },\n        },\n        imageContainer: {\n            margin: theme.spacing(1),\n            alignSelf: 'center',\n            minWidth: 250,\n            display: 'flex',\n            '& img': {\n                maxWidth: 250,\n                maxHeight: 175,\n                display: 'block',\n                borderRadius: 4,\n            },\n        },\n        image: {\n            margin: 'auto',\n            backgroundColor: theme.palette.grey[100],\n            '& > button': {\n                borderRadius: 4,\n            },\n        },\n        content: {\n            padding: theme.spacing(1, 0),\n            marginLeft: theme.spacing(1),\n            flexBasis: '100%',\n            overflowX: 'hidden',\n            display: 'flex',\n            flexDirection: 'column',\n        },\n        amount: {\n            display: 'flex',\n            alignItems: 'center',\n        },\n        subtotal: {\n            textAlign: 'end',\n            margin: theme.spacing(0.5),\n        },\n        actions: {\n            marginTop: 'auto',\n        },\n    })\n)\n","import CartProductHolder from './CartProductHolder'\n\nexport default CartProductHolder\n","import React from 'react'\n\nimport { CartProductPreview } from '../../../../types'\nimport { CartService, FavoriteService, ResourceService } from '../../../../api'\n\nimport { useTheme } from '@material-ui/core'\n\nimport { HttpStatusCode } from '../../../../utils'\n\nimport ButtonBase from '@material-ui/core/ButtonBase'\nimport TextField from '@material-ui/core/TextField'\nimport Typography from '@material-ui/core/Typography'\nimport Paper from '@material-ui/core/Paper'\nimport IconButton from '@material-ui/core/IconButton'\nimport DeleteIcon from '@material-ui/icons/Delete'\nimport UndoIcon from '@material-ui/icons/Undo'\nimport FavoriteBorder from '@material-ui/icons/FavoriteBorder'\nimport Favorite from '@material-ui/icons/Favorite'\n\nimport { useStyles } from './CartProductHolder.style'\n\nimport { useTranslation } from 'react-i18next'\nimport { ProductImg } from '../../../../components'\n\nconst round = (n: number) => Math.round(n * 100) / 100\n\nconst CartProductHolder: React.FC<{\n    product: CartProductPreview\n    cartService: CartService\n    favoriteService: FavoriteService\n    resources: ResourceService\n    history: any\n    updateTotal: any\n}> = ({\n    product: pc,\n    cartService,\n    favoriteService,\n    history,\n    resources,\n    updateTotal,\n}) => {\n    const theme = useTheme()\n    const classes = useStyles()\n    const { t } = useTranslation()\n\n    const [favorite, setFavorite] = React.useState(pc.product.fav === true)\n\n    const [removed, setRemoved] = React.useState(false)\n    const [unavailable, setUnavailable] = React.useState(\n        pc.unavailable === true\n    )\n\n    const [amountField, setAmountField] = React.useState<any>(pc.amount)\n    const [amountError, setAmountError] = React.useState<string>()\n\n    const outStock = pc.product.stock <= 0\n\n    const calcSub = () => round(pc.amount * pc.product.price)\n\n    const [subtotal, setSubtotal] = React.useState(calcSub())\n\n    const checkStock = (a: number) => {\n        if (a > pc.product.stock) {\n            setAmountError(t('cart.no_stock'))\n            return true\n        }\n        return false\n    }\n\n    React.useEffect(() => {\n        checkStock(pc.amount)\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [setAmountError, pc])\n\n    const gotoProduct = () =>\n        history.push(`/product/${pc.product.id}`, undefined)\n\n    const handleCart = async (e: any) => {\n        e.stopPropagation()\n\n        const r = await (!removed\n            ? cartService.remove(pc.product.id)\n            : cartService.update({\n                  productId: pc.product.id,\n                  amount: pc.amount,\n                  add: false,\n              }))\n\n        switch (r.status) {\n            case HttpStatusCode.OK:\n                pc.removed = !removed\n                updateTotal()\n                setRemoved(!removed)\n                break\n            case HttpStatusCode.NotFound:\n                pc.unavailable = true\n                setUnavailable(true)\n                break\n            case HttpStatusCode.BadRequest:\n                if (pc.product.stock) checkStock(pc.amount)\n        }\n    }\n\n    const changeUnits = async () => {\n        const a = parseInt(amountField)\n\n        setAmountField(pc.amount)\n        if (isNaN(a)) return\n\n        if (a <= 0 || a === pc.amount) return\n\n        setAmountField(a)\n        if (checkStock(a)) return\n\n        pc.amount = a\n        updateTotal()\n        setAmountError(undefined)\n        setSubtotal(calcSub())\n\n        const r = await cartService.update({\n            productId: pc.product.id,\n            amount: a,\n            add: false,\n        })\n\n        if (r.status !== HttpStatusCode.OK) return\n\n        setRemoved(false)\n        updateTotal()\n    }\n\n    const addToFav = async (e: any) => {\n        e.stopPropagation()\n\n        const r = await (favorite\n            ? favoriteService.remove(pc.product.id)\n            : favoriteService.add(pc.product.id))\n\n        if (r.status !== HttpStatusCode.OK) return\n\n        setFavorite(!favorite)\n    }\n\n    return (\n        <Paper className={classes.root}>\n            <div className={classes.imageContainer}>\n                <Paper className={classes.image}>\n                    <ButtonBase onClick={gotoProduct}>\n                        <ProductImg\n                            url={pc.product.mainImage}\n                            resources={resources}\n                        />\n                    </ButtonBase>\n                </Paper>\n            </div>\n\n            <div className={classes.content}>\n                <div className={classes.title}>\n                    <Typography\n                        variant=\"h6\"\n                        component={unavailable ? 'h3' : 'h2'}\n                        onClick={unavailable ? undefined : gotoProduct}\n                        color={unavailable ? 'error' : 'initial'}\n                    >\n                        {unavailable ? t('cart.unavailable') : pc.product.name}\n                    </Typography>\n\n                    {unavailable && (\n                        <Typography\n                            variant=\"body1\"\n                            component=\"p\"\n                            color={'textSecondary'}\n                        >\n                            {pc.product.name}\n                        </Typography>\n                    )}\n                </div>\n\n                {!unavailable && (\n                    <>\n                        <Typography variant=\"button\" color=\"textSecondary\">\n                            {`${pc.product.price} €/`}\n                            {t('cart.unit')}\n                        </Typography>\n                        <Typography\n                            variant=\"h6\"\n                            className={classes.subtotal}\n                        >{`${subtotal} €`}</Typography>\n\n                        <div className={classes.amount}>\n                            <TextField\n                                label={t('product.amount')}\n                                variant=\"outlined\"\n                                margin=\"dense\"\n                                value={amountField}\n                                style={{ maxWidth: 100 }}\n                                onChange={(e) => setAmountField(e.target.value)}\n                                onBlur={changeUnits}\n                                error={amountError !== undefined}\n                                InputLabelProps={{\n                                    shrink: true,\n                                }}\n                            />\n                            {!outStock && amountError && (\n                                <Typography\n                                    variant=\"caption\"\n                                    color=\"error\"\n                                    className={classes.subtotal}\n                                >\n                                    {amountError}\n                                </Typography>\n                            )}\n                            {outStock && (\n                                <Typography\n                                    className={classes.subtotal}\n                                    variant=\"button\"\n                                    color=\"error\"\n                                >\n                                    {t('product.no_stock')}\n                                </Typography>\n                            )}\n                        </div>\n                    </>\n                )}\n\n                <div className={classes.actions}>\n                    <IconButton\n                        id=\"remove-cart-bt\"\n                        size={'small'}\n                        onClick={handleCart}\n                    >\n                        {removed ? (\n                            !unavailable && <UndoIcon />\n                        ) : (\n                            <DeleteIcon htmlColor={theme.palette.error.main} />\n                        )}\n                    </IconButton>\n                    {!unavailable && (\n                        <IconButton size={'small'} onClick={addToFav}>\n                            {favorite ? (\n                                <Favorite\n                                    htmlColor={theme.palette.error.main}\n                                />\n                            ) : (\n                                <FavoriteBorder />\n                            )}\n                        </IconButton>\n                    )}\n                </div>\n            </div>\n        </Paper>\n    )\n}\n\nexport default CartProductHolder\n","import InvalidCartDialog from './InvalidCartDialog'\n\nexport default InvalidCartDialog\n","import React from 'react'\n\nimport Button from '@material-ui/core/Button'\nimport Dialog from '@material-ui/core/Dialog'\nimport DialogActions from '@material-ui/core/DialogActions'\nimport DialogContent from '@material-ui/core/DialogContent'\nimport DialogContentText from '@material-ui/core/DialogContentText'\nimport DialogTitle from '@material-ui/core/DialogTitle'\n\nimport { useTranslation } from 'react-i18next'\n\ninterface InvalidCartDialogProps {\n    content: string | undefined\n    setContent: (open: string | undefined) => void\n}\n\nconst InvalidCartDialog: React.FC<InvalidCartDialogProps> = ({\n    content,\n    setContent,\n}) => {\n    const { t } = useTranslation()\n\n    const handleClose = () => setContent(undefined)\n\n    return (\n        <Dialog\n            open={content !== undefined}\n            onClose={handleClose}\n            aria-labelledby=\"alert-dialog-title\"\n            aria-describedby=\"alert-dialog-description\"\n        >\n            <DialogTitle id=\"alert-dialog-title\">\n                {t('cart.invalid.title')}\n            </DialogTitle>\n            <DialogContent>\n                {content && (\n                    <DialogContentText id=\"alert-dialog-description\">\n                        {content}\n                    </DialogContentText>\n                )}\n            </DialogContent>\n            <DialogActions>\n                <Button\n                    id=\"got-it-bt\"\n                    onClick={handleClose}\n                    color=\"primary\"\n                    autoFocus\n                >\n                    {t('cart.invalid.button')}\n                </Button>\n            </DialogActions>\n        </Dialog>\n    )\n}\n\nexport default InvalidCartDialog\n","import CartPage from './CartPage'\n\nexport default CartPage","import React from 'react'\n\nimport {\n    useCartService,\n    useFavoriteService,\n    useResourceService,\n} from '../../services'\n\nimport { ContentWarn, Loading } from '../../components'\n\nimport { CartProductPreview } from '../../types'\n\nimport { HttpStatusCode } from '../../utils'\n\nimport Button from '@material-ui/core/Button'\nimport Typography from '@material-ui/core/Typography'\nimport Paper from '@material-ui/core/Paper'\nimport ShoppingCart from '@material-ui/icons/ShoppingCart'\nimport PaymentIcon from '@material-ui/icons/Payment'\n\nimport { useStyles } from './CartPage.style'\n\nimport { useTranslation } from 'react-i18next'\nimport { RouteComponentProps } from 'react-router'\n\nimport { CartProductHolder, InvalidCartDialog } from './components'\n\nconst round = (n: number) => Math.round(n * 100) / 100\n\nconst CartPage: React.FC<RouteComponentProps> = ({ history }) => {\n    const cartService = useCartService()\n    const favService = useFavoriteService()\n    const resources = useResourceService()\n\n    const { t } = useTranslation()\n    const classes = useStyles()\n\n    const [content, setContent] = React.useState<string>()\n\n    const [products, setProducts] = React.useState<CartProductPreview[]>()\n\n    const calcTotal = () =>\n        round(\n            products?.reduce<number>(\n                (prev, prod) =>\n                    (prev += prod.removed\n                        ? 0\n                        : prod.amount * prod.product.price),\n                0\n            ) ?? 0\n        )\n\n    const [total, setTotal] = React.useState<number>()\n\n    const [size, setSize] = React.useState<number>(0)\n\n    const updateTotal = () => {\n        setTotal(calcTotal())\n        updateSize()\n    }\n    const updateSize = () =>\n        setSize(\n            products?.reduce<number>(\n                (pred, p) => (pred += p.removed ? 0 : 1),\n                0\n            ) ?? 0\n        )\n\n    React.useEffect(() => {\n        const fetchProducts = async () => {\n            const r = await cartService.current()\n\n            setProducts(r.status === HttpStatusCode.OK ? r.data : [])\n        }\n\n        fetchProducts()\n    }, [cartService])\n\n    React.useEffect(() => {\n        updateTotal()\n        // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, [products])\n\n    const checkValidCart = () => {\n        if (size === 0) return false\n\n        const errors = products\n            ?.map((p) =>\n                !p.removed &&\n                (p.amount > p.product.stock || p.product.stock === 0)\n                    ? p.product.name\n                    : null\n            )\n            .filter((p) => p)\n\n        const valid = errors?.length === 0\n        if (!valid)\n            setContent(\n                t('cart.invalid.content') + (errors as string[]).join(', ')\n            )\n        return valid\n    }\n\n    const goCheckout = () => {\n        if (checkValidCart()) history.push('/checkout', { total, size })\n    }\n\n    const EmptyCart = () => (\n        <ContentWarn>\n            <ShoppingCart />\n            <Typography>{t('cart.empty')}</Typography>\n        </ContentWarn>\n    )\n\n    return (\n        <>\n            <header className={classes.header}>\n                <div>\n                    <Typography\n                        className={classes.title}\n                        variant=\"h3\"\n                        component=\"h1\"\n                    >\n                        {t('cart.title')}\n                    </Typography>\n                    <Typography\n                        color=\"textSecondary\"\n                        variant=\"h5\"\n                        component=\"h2\"\n                    >\n                        {size} {t(size > 1 ? 'cart.items' : 'cart.item')}\n                    </Typography>\n                </div>\n                <Paper variant=\"outlined\" className={classes.buyHolder}>\n                    <Typography variant=\"h6\" component=\"p\">\n                        {t('cart.total')}\n                        {`: ${total} €`}\n                    </Typography>\n                    <Button\n                        id=\"proceed-bt\"\n                        onClick={goCheckout}\n                        variant=\"outlined\"\n                        disabled={size === 0}\n                        color=\"secondary\"\n                        endIcon={<PaymentIcon />}\n                    >\n                        {t('cart.buy')}\n                    </Button>\n                </Paper>\n            </header>\n            <div className={classes.contentHolder}>\n                {products !== undefined ? (\n                    products.length ? (\n                        <div className={classes.list}>\n                            {products!!.map((p, i: number) => (\n                                <CartProductHolder\n                                    key={i}\n                                    product={p}\n                                    {...{\n                                        cartService,\n                                        favoriteService: favService,\n                                        history,\n                                        resources,\n                                        updateTotal,\n                                    }}\n                                />\n                            ))}\n                        </div>\n                    ) : (\n                        <EmptyCart />\n                    )\n                ) : (\n                    <Loading />\n                )}\n            </div>\n            <InvalidCartDialog {...{ content, setContent }} />\n        </>\n    )\n}\n\nexport default CartPage\n","import { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        toggler: {\n            marginLeft: 'auto',\n            marginRight: theme.spacing(3),\n            maxHeight: theme.spacing(5),\n            transform: 'translateY(-50%)',\n            backgroundColor: theme.palette.background.paper,\n            [theme.breakpoints.down(520)]: {\n                margin: theme.spacing(3, 2, 3),\n                marginLeft: 'auto',\n                transform: 'none',\n            },\n        },\n        container: {\n            marginTop: theme.spacing(4),\n            margin: 'auto',\n        },\n    })\n)\n","import { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        top: {\n            position: 'relative',\n            display: 'flex',\n            margin: theme.spacing(4),\n            alignItems: 'center',\n            flexWrap: 'wrap',\n        },\n        topText: {\n            display: 'flex',\n            flexDirection: 'column',\n            margin: 'auto',\n            paddingLeft: theme.spacing(1),\n            paddingBottom: theme.spacing(2),\n            maxWidth: '100%',\n            '& > p': {\n                overflowWrap: 'break-word',\n            },\n        },\n        avatar: {\n            marginRight: 'auto',\n            marginLeft: 'auto',\n            marginBottom: theme.spacing(2),\n            height: theme.spacing(24),\n            width: theme.spacing(24),\n            fontSize: '3em',\n            '& img': {\n                display: 'block',\n                width: '100%',\n            },\n        },\n        buttons: {\n            position: 'absolute',\n            display: 'flex',\n            top: theme.spacing(-2),\n            right: theme.spacing(-2),\n            zIndex: 1,\n            borderRadius: '100px',\n            padding: theme.spacing(0.5),\n            background: theme.palette.background.default,\n        },\n        title: {\n            position: 'absolute',\n            bottom: theme.spacing(-4 - 2),\n            padding: theme.spacing(0, 2),\n            background: theme.palette.background.default,\n            userSelect: 'none',\n        },\n    })\n)\n","import VendorProfileInfo from './VendorProfileInfo'\n\nexport default VendorProfileInfo\n","import React from 'react'\n\nimport {\n    useFavoriteService,\n    useResourceService,\n    useSessionService,\n} from '../../../../services'\n\nimport { useStyles } from './VendorProfileInfo.style'\nimport { HttpStatusCode } from '../../../../utils'\n\nimport Typography from '@material-ui/core/Typography'\nimport Avatar from '@material-ui/core/Avatar'\nimport IconButton from '@material-ui/core/IconButton'\nimport FavoriteBorder from '@material-ui/icons/FavoriteBorder'\nimport Favorite from '@material-ui/icons/Favorite'\nimport EditOutlined from '@material-ui/icons/EditOutlined'\nimport Paper from '@material-ui/core/Paper'\n\nimport { useTheme } from '@material-ui/core'\nimport { User } from '../../../../types'\n\nimport { useTranslation } from 'react-i18next'\nimport { useHistory } from 'react-router'\n\ninterface VendorProfileInfoParams {\n    user: User\n    self: boolean\n}\n\nconst VendorProfileInfo: React.FC<VendorProfileInfoParams> = ({\n    user,\n    self,\n}) => {\n    const history = useHistory()\n\n    const favService = useFavoriteService()\n    const resources = useResourceService()\n    const sessionService = useSessionService()\n\n    const classes = useStyles()\n    const theme = useTheme()\n\n    const { t } = useTranslation()\n\n    const editable = self || sessionService.current()?.admin\n\n    const [profileImage, setProfileImage] = React.useState<string>()\n\n    const [favorite, setFavorite] = React.useState<boolean>()\n\n    const edit = () => {\n        if (editable) history.push(`/profile/edit/${user.id}`)\n    }\n\n    const addToFav = async (e: any) => {\n        e.stopPropagation()\n\n        if (!user) return\n\n        const r = await (favorite\n            ? favService.remove(user.id, false)\n            : favService.add(user.id, false))\n\n        if (r.status !== HttpStatusCode.OK) return\n\n        setFavorite(!favorite)\n    }\n\n    React.useEffect(() => {\n        const loadImage = async () => {\n            const r = await resources.load(user?.profileImgUri!!)\n            if (r.status !== HttpStatusCode.OK) return\n\n            setProfileImage(URL.createObjectURL(r.data))\n        }\n\n        if (user?.profileImgUri) loadImage()\n    }, [user, resources])\n\n    React.useEffect(() => {\n        if (user) setFavorite(user.fav === true)\n    }, [user])\n\n    return (\n        <div className={classes.top}>\n            <Paper elevation={0} className={classes.buttons}>\n                {!self && (\n                    <IconButton size=\"small\" onClick={addToFav}>\n                        {favorite ? (\n                            <Favorite htmlColor={theme.palette.error.main} />\n                        ) : (\n                            <FavoriteBorder />\n                        )}\n                    </IconButton>\n                )}\n                {editable && (\n                    <IconButton size=\"small\" onClick={edit}>\n                        <EditOutlined />\n                    </IconButton>\n                )}\n            </Paper>\n\n            <Avatar className={classes.avatar} src={profileImage}>\n                {user?.nickname?.substring(0, 2)}\n            </Avatar>\n            <div className={classes.topText}>\n                <Typography variant=\"h3\" component=\"h1\">\n                    {user?.nickname}\n                </Typography>\n                <Typography variant=\"body2\">{user?.description}</Typography>\n            </div>\n\n            <Typography\n                variant=\"h4\"\n                component=\"h2\"\n                className={classes.title}\n                color=\"textSecondary\"\n            >\n                {t('profile.product_title')}\n            </Typography>\n        </div>\n    )\n}\n\nexport default VendorProfileInfo\n","import VendorProfile from './VendorProfile'\n\nexport default VendorProfile\n","import React from 'react'\n\nimport { RouteComponentProps } from 'react-router'\n\nimport {\n    useCartService,\n    useFavoriteService,\n    useProductService,\n    useResourceService,\n    useSessionService,\n    useUserService,\n} from '../../services'\n\nimport { useTranslation } from 'react-i18next'\n\nimport { useStyles } from './VendorProfile.style'\nimport { PreviewProduct, User } from '../../types'\nimport { HttpStatusCode } from '../../utils'\nimport { ContentWarn, PageContainer, ProductHolder } from '../../components'\n\nimport Typography from '@material-ui/core/Typography'\nimport EmptyIcon from '@material-ui/icons/CheckBoxOutlineBlank'\nimport ToggleButtonGroup from '@material-ui/lab/ToggleButtonGroup'\nimport ToggleButton from '@material-ui/lab/ToggleButton'\nimport Divider from '@material-ui/core/Divider'\nimport VendorProfileInfo from './components'\n\ninterface VendorProfileParams {\n    id?: string\n}\n\nconst VendorProfile: React.FC<RouteComponentProps<VendorProfileParams>> = ({\n    match,\n    history,\n    location,\n}) => {\n    const { id } = match.params\n\n    const userService = useUserService()\n    const productService = useProductService()\n    const cartService = useCartService()\n    const favService = useFavoriteService()\n    const sessionService = useSessionService()\n    const resources = useResourceService()\n\n    const { t } = useTranslation()\n\n    const classes = useStyles()\n\n    const session = sessionService.current()\n    const self = id === undefined || session?.userId === parseInt(id)\n    const perms = self || session?.admin\n\n    const vendorId = self ? session?.userId!! : parseInt(id!!)\n\n    const [user, setUser] = React.useState<User>()\n\n    const [shown, setShown] = React.useState(\n        (location?.state as any)?.shown !== false\n    )\n\n    const handleShown = (e: any, value: boolean) => {\n        if (perms) {\n            history.push(location.pathname, {\n                shown: value,\n                page: undefined,\n            })\n            setShown(value)\n        }\n    }\n\n    React.useEffect(() => {\n        const handleNotFound = () => history.replace('/404')\n\n        const fetchVendor = async () => {\n            const r = await userService.getUser(vendorId)\n\n            switch (r.status) {\n                case HttpStatusCode.OK:\n                    setUser(r.data)\n                    break\n                case HttpStatusCode.Forbidden:\n                    history.goBack()\n                    break\n                case HttpStatusCode.NotFound:\n                    handleNotFound()\n            }\n        }\n\n        if (isNaN(vendorId)) handleNotFound()\n        else fetchVendor()\n    }, [userService, vendorId, history])\n\n    const Empty = () => (\n        <ContentWarn>\n            <EmptyIcon />\n            <Typography>{t('profile.empty')}</Typography>\n        </ContentWarn>\n    )\n\n    return (\n        <>\n            {user && <VendorProfileInfo {...{ user, self }} />}\n\n            <Divider />\n\n            {user && perms && (\n                <ToggleButtonGroup\n                    value={shown}\n                    exclusive\n                    onChange={handleShown}\n                    className={classes.toggler}\n                >\n                    <ToggleButton value={true}>\n                        {t('profile.shown')}\n                    </ToggleButton>\n                    <ToggleButton value={false}>\n                        {t('profile.hidden')}\n                    </ToggleButton>\n                </ToggleButtonGroup>\n            )}\n\n            <div className={perms ? undefined : classes.container}>\n                <PageContainer\n                    request={(page) =>\n                        productService.getVendorProducts(vendorId, shown, {\n                            page,\n                        })\n                    }\n                    itemRender={(product: PreviewProduct, i) => (\n                        <ProductHolder\n                            key={i}\n                            {...{\n                                product,\n                                cartService,\n                                favService,\n                                resources,\n                                noFav: self,\n                                noCart: !shown,\n                            }}\n                        />\n                    )}\n                    EmptyComponent={Empty}\n                    {...{ setShownItems: () => undefined, deps: [shown] }}\n                />\n            </div>\n        </>\n    )\n}\n\nexport default VendorProfile\n","import { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            margin: theme.spacing(1),\n        },\n        header: {\n            margin: theme.spacing(4),\n        },\n    })\n)\n","import ReportHolder from './ReportHolder'\n\nexport default ReportHolder\n","import React from 'react'\n\nimport { ProductReport } from '../../../../types'\n\nimport Delete from '@material-ui/icons/Delete'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableRow from '@material-ui/core/TableRow'\nimport IconButton from '@material-ui/core/IconButton'\n\nimport { DateUtils } from '../../../../utils'\n\nimport { Link } from 'react-router-dom'\n\ninterface ReportHolderProps {\n    report: ProductReport\n    deleteReport: any\n}\n\nconst ReportHolder: React.FC<ReportHolderProps> = ({\n    report,\n    deleteReport,\n}) => {\n    const [removed, setRemoved] = React.useState(false)\n\n    const date = DateUtils.format(report.date.seconds)\n\n    const onDelete = () => {\n        if (!removed) if (deleteReport()) setRemoved(true)\n    }\n\n    return (\n        <TableRow>\n            <TableCell component=\"th\" scope=\"row\">\n                {date}\n            </TableCell>\n            <TableCell align=\"right\">\n                <Link to={`/product/${report.productId}`}>\n                    {report.productName}\n                </Link>\n            </TableCell>\n            <TableCell align=\"right\">{report.reason}</TableCell>\n            <TableCell align=\"right\">\n                <Link to={`/vendor/${report.userId}`}>\n                    {report.userNickname}\n                </Link>\n            </TableCell>\n            <TableCell align=\"right\">\n                {!removed && (\n                    <IconButton size=\"small\" onClick={onDelete}>\n                        <Delete />\n                    </IconButton>\n                )}\n            </TableCell>\n        </TableRow>\n    )\n}\n\nexport default ReportHolder\n","import ReportsPage from './ReportsPage'\n\nexport default ReportsPage\n","import React from 'react'\n\nimport { RouteComponentProps } from 'react-router'\n\nimport { useProductReportService, useProductService } from '../../services'\n\nimport { useTranslation } from 'react-i18next'\n\nimport { useStyles } from './ReportsPage.style'\nimport { Product, ProductReport } from '../../types'\nimport { ContentWarn, PageContainer } from '../../components'\n\nimport Typography from '@material-ui/core/Typography'\nimport NotesIcon from '@material-ui/icons/Notes'\nimport TableCell from '@material-ui/core/TableCell'\nimport TableHead from '@material-ui/core/TableHead'\nimport TableRow from '@material-ui/core/TableRow'\nimport Table from '@material-ui/core/Table'\nimport TableContainer from '@material-ui/core/TableContainer'\nimport TableBody from '@material-ui/core/TableBody'\nimport Paper from '@material-ui/core/Paper'\n\nimport { HttpStatusCode } from '../../utils'\nimport ReportHolder from './components'\n\ninterface ReportsParams {\n    id?: string\n}\n\nconst ReportsPage: React.FC<RouteComponentProps<ReportsParams>> = ({\n    match,\n    history,\n}) => {\n    const { t } = useTranslation()\n\n    const { id } = match.params\n\n    const _id = parseInt(id ?? '')\n    const productId = isNaN(_id) ? undefined : _id\n\n    const reportService = useProductReportService()\n    const productService = useProductService()\n\n    const [product, setProduct] = React.useState<Product>()\n\n    const classes = useStyles()\n\n    React.useEffect(() => {\n        const fetchProduct = async () => {\n            const r = await productService.getProduct(productId!!)\n\n            switch (r.status) {\n                case HttpStatusCode.OK:\n                    setProduct(r.data)\n                    break\n                case HttpStatusCode.NotFound:\n                    history.push('/404')\n            }\n        }\n\n        if (productId) fetchProduct()\n    }, [history, productId, productService])\n\n    const deleteReport = (id: number) => async () => {\n        const r = await reportService.remove(id)\n        return r.status === HttpStatusCode.OK\n    }\n\n    const NoReports = () => (\n        <ContentWarn>\n            <NotesIcon />\n            <Typography>{t('reports.empty')}</Typography>\n        </ContentWarn>\n    )\n\n    return (\n        <div className={classes.root}>\n            <header className={classes.header}>\n                <Typography variant=\"h4\" component=\"h1\">\n                    {t('reports.title')}\n                </Typography>\n                {productId && product && (\n                    <Typography\n                        variant=\"h6\"\n                        component=\"h2\"\n                        color=\"textSecondary\"\n                    >\n                        {product.name}\n                    </Typography>\n                )}\n            </header>\n            <PageContainer\n                request={(page) => reportService.getFor({ page, productId })}\n                itemRender={(r: ProductReport, i) => (\n                    <ReportHolder\n                        key={i}\n                        report={r}\n                        deleteReport={deleteReport(r.id)}\n                    />\n                )}\n                EmptyComponent={NoReports}\n                ContainerComponent={({ children }) => (\n                    <TableContainer component={Paper}>\n                        <Table>\n                            <TableHead>\n                                <TableRow>\n                                    <TableCell>{t('reports.date')}</TableCell>\n                                    <TableCell align=\"right\">\n                                        {t('reports.product')}\n                                    </TableCell>\n                                    <TableCell align=\"right\">\n                                        {t('reports.reason')}\n                                    </TableCell>\n                                    <TableCell align=\"right\">\n                                        {t('signup.field.nickname')}\n                                    </TableCell>\n                                    <TableCell align=\"right\"> </TableCell>\n                                </TableRow>\n                            </TableHead>\n                            <TableBody>{children}</TableBody>\n                        </Table>\n                    </TableContainer>\n                )}\n                {...{\n                    setShownItems: () => undefined,\n                    deps: [],\n                }}\n            />\n        </div>\n    )\n}\n\nexport default ReportsPage\n","import { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            margin: theme.spacing(1, 'auto', 2),\n            display: 'flex',\n            flexDirection: 'row',\n            flexWrap: 'wrap',\n        },\n        form: {\n            margin: 'auto',\n            display: 'flex',\n            flexDirection: 'column',\n            padding: theme.spacing(0, 1, 0, 2),\n            '& > h2': {\n                marginBottom: theme.spacing(2),\n            },\n        },\n        summary: {\n            margin: 'auto',\n            display: 'flex',\n            flexDirection: 'column',\n            width: 200,\n            maxHeight: 200,\n            '& > *': {\n                margin: '6px auto auto auto',\n            },\n            padding: theme.spacing(2, 0),\n        },\n        pair: {\n            display: 'grid',\n            gridTemplateColumns: '1fr 1fr',\n        },\n        input: {\n            margin: theme.spacing(0, 2, 2, 0),\n            backgroundColor: theme.palette.background.paper,\n            borderRadius: 4,\n        },\n        header: {\n            display: 'flex',\n            flexDirection: 'row',\n            margin: theme.spacing(4),\n            alignItems: 'center',\n            userSelect: 'none',\n        },\n        title: {\n            marginLeft: theme.spacing(1),\n        },\n        addressesTitle: {\n            margin: theme.spacing(0, 0, 1, 2),\n        },\n        addressButton: {\n            margin: theme.spacing(1, 1, 3, 1),\n            borderRadius: 4,\n            cursor: 'pointer',\n        },\n        addressContainer: {\n            display: 'flex',\n            flexDirection: 'row',\n            padding: theme.spacing(0, 0, 0, 2),\n            overflowX: 'auto',\n            flexWrap: 'nowrap',\n        },\n        addressHolder: {\n            padding: theme.spacing(1),\n            width: 180,\n            minWidth: 180,\n            height: 90,\n            overflow: 'hidden',\n        },\n        endGap: {\n            minWidth: theme.spacing(2),\n        },\n    })\n)\n","import CheckoutPage from './CheckoutPage'\n\nexport default CheckoutPage","import React from 'react'\n\nimport Typography from '@material-ui/core/Typography'\nimport TextField from '@material-ui/core/TextField'\nimport ButtonBase from '@material-ui/core/ButtonBase'\nimport Button from '@material-ui/core/Button'\nimport Paper from '@material-ui/core/Paper'\nimport PaymentIcon from '@material-ui/icons/Payment'\nimport IconButton from '@material-ui/core/IconButton'\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack'\n\nimport {\n    useCartService,\n    useSessionService,\n    useUserService,\n} from '../../services'\n\nimport { useStyles } from './CheckoutPage.style'\n\nimport { Redirect, RouteComponentProps } from 'react-router'\nimport { useTranslation } from 'react-i18next'\n\nimport { HttpStatusCode, ValidationTools } from '../../utils'\nimport { UserAddress } from '../../types'\nimport { InvalidCartDialog } from '../CartPage/components'\n\nconst CheckoutPage: React.FC<RouteComponentProps> = ({ history, location }) => {\n    const cartService = useCartService()\n    const userService = useUserService()\n    const sessionService = useSessionService()\n\n    const { t } = useTranslation()\n\n    const classes = useStyles()\n\n    const state = location.state as any\n\n    const [addresses, setAddresses] = React.useState<UserAddress[]>()\n\n    const [errors, setErrors] = React.useState({})\n    const [data, setData] = React.useState<UserAddress>({\n        recipient: '',\n        code: '',\n        city: '',\n        region: '',\n        country: '',\n        address: '',\n        phone: '',\n    })\n\n    const [content, setContent] = React.useState<string>()\n\n    React.useEffect(() => {\n        ;(async () => {\n            const r = await userService.addresses(\n                sessionService.current()?.userId!!\n            )\n\n            if (r.status !== HttpStatusCode.OK) return\n            setAddresses(r.data)\n        })()\n    }, [sessionService, userService])\n\n    if (!state) return <Redirect to={'/cart'} />\n    const { total, size } = state\n\n    const selectAddress = (i: number) => () => {\n        if (addresses) setData(addresses[i])\n    }\n\n    const checkout = async (e: any) => {\n        e.preventDefault()\n\n        const r = await cartService.checkout(data)\n        switch (r.status) {\n            case HttpStatusCode.BadRequest:\n                const err = (r.data as any).error\n                if (err === 'invalid') setContent(t('checkout.invalid'))\n                else if (err === 'empty') setContent(t('checkout.empty'))\n                else setErrors(err)\n                return\n            case HttpStatusCode.OK:\n                break\n            default:\n                return\n        }\n\n        history.push('/history', { done: r.data.orderId })\n        setErrors({})\n    }\n\n    const updateData = (actual: {}) => {\n        setData({ ...data, ...actual })\n    }\n\n    const changeData = (field: string) => (e: any) =>\n        updateData({ [field]: e.target.value })\n\n    const { errorFor, helperFor } = ValidationTools.createValidator(t, errors)\n\n    return (\n        <>\n            <header className={classes.header}>\n                <IconButton onClick={() => history.goBack()}>\n                    <ArrowBackIcon />\n                </IconButton>\n                <Typography\n                    className={classes.title}\n                    variant=\"h4\"\n                    component=\"h1\"\n                >\n                    {t('checkout.title')}\n                </Typography>\n            </header>\n\n            <Typography\n                variant=\"h6\"\n                component=\"h2\"\n                color=\"textSecondary\"\n                className={classes.addressesTitle}\n            >\n                {t(\n                    addresses !== undefined\n                        ? addresses?.length\n                            ? 'checkout.recent_addresses'\n                            : 'checkout.no_recent_addresses'\n                        : 'checkout.loading_recent_addresses'\n                )}\n            </Typography>\n\n            {addresses && addresses.length > 0 && (\n                <div className={classes.addressContainer}>\n                    {addresses.map((a, i) => (\n                        <ButtonBase key={i} className={classes.addressButton}>\n                            <Paper\n                                variant=\"outlined\"\n                                className={classes.addressHolder}\n                                onClick={selectAddress(i)}\n                            >\n                                <Typography variant=\"body2\">\n                                    {a.recipient}\n                                    {' / '}\n                                    {a.address}\n                                    {' / '}\n                                    {a.city}\n                                    {' / '}\n                                    {a.region}\n                                    {' / '}\n                                    {a.country}\n                                </Typography>\n                            </Paper>\n                        </ButtonBase>\n                    ))}\n                    <div className={classes.endGap} />\n                </div>\n            )}\n\n            <form\n                id=\"address-form\"\n                className={classes.root}\n                onSubmitCapture={checkout}\n                noValidate\n                autoComplete=\"off\"\n            >\n                <div className={classes.form}>\n                    <Typography\n                        variant=\"h6\"\n                        component=\"h2\"\n                        color=\"textSecondary\"\n                    >\n                        {t('address.address')}\n                    </Typography>\n                    <TextField\n                        className={classes.input}\n                        label={t('address.recipient')}\n                        variant=\"outlined\"\n                        name=\"recipient\"\n                        value={data['recipient']}\n                        onChange={changeData('recipient')}\n                        error={errorFor('recipient')}\n                        helperText={helperFor('recipient')}\n                        required\n                    />\n                    <div className={classes.pair}>\n                        <TextField\n                            className={classes.input}\n                            label={t('address.city')}\n                            variant=\"outlined\"\n                            name=\"city\"\n                            value={data['city']}\n                            onChange={changeData('city')}\n                            error={errorFor('city')}\n                            helperText={helperFor('city')}\n                            required\n                        />\n                        <TextField\n                            className={classes.input}\n                            label={t('address.region')}\n                            variant=\"outlined\"\n                            name=\"region\"\n                            value={data['region']}\n                            onChange={changeData('region')}\n                            error={errorFor('region')}\n                            helperText={helperFor('region')}\n                            required\n                        />\n                    </div>\n                    <div className={classes.pair}>\n                        <TextField\n                            className={classes.input}\n                            label={t('address.code')}\n                            variant=\"outlined\"\n                            name=\"code\"\n                            value={data['code']}\n                            onChange={changeData('code')}\n                            error={errorFor('code')}\n                            helperText={helperFor('code')}\n                            required\n                        />\n                        <TextField\n                            className={classes.input}\n                            label={t('address.country')}\n                            variant=\"outlined\"\n                            name=\"country\"\n                            value={data['country']}\n                            onChange={changeData('country')}\n                            error={errorFor('country')}\n                            helperText={helperFor('country')}\n                            required\n                        />\n                    </div>\n                    <TextField\n                        className={classes.input}\n                        label={t('address.address')}\n                        variant=\"outlined\"\n                        name=\"address\"\n                        value={data['address']}\n                        onChange={changeData('address')}\n                        error={errorFor('address')}\n                        helperText={helperFor('address')}\n                        required\n                    />\n                    <TextField\n                        className={classes.input}\n                        label={t('address.phone')}\n                        variant=\"outlined\"\n                        name=\"phone\"\n                        value={data['phone']}\n                        onChange={changeData('phone')}\n                        error={errorFor('phone')}\n                        helperText={helperFor('phone')}\n                        required\n                    />\n                </div>\n                <Paper variant=\"outlined\" className={classes.summary}>\n                    <Typography variant=\"h6\" component=\"p\">\n                        {t('cart.total')}\n                        {`: ${total} €`}\n                    </Typography>\n\n                    <Typography\n                        variant=\"body1\"\n                        component=\"p\"\n                        color=\"textSecondary\"\n                    >\n                        {size} {t(size > 1 ? 'cart.items' : 'cart.item')}\n                    </Typography>\n\n                    <Button\n                        id=\"finish-bt\"\n                        onClick={undefined}\n                        color=\"secondary\"\n                        variant=\"contained\"\n                        size=\"large\"\n                        type=\"submit\"\n                        endIcon={<PaymentIcon />}\n                    >\n                        {t('checkout.finish')}\n                    </Button>\n                </Paper>\n            </form>\n\n            <InvalidCartDialog {...{ content, setContent }} />\n        </>\n    )\n}\n\nexport default CheckoutPage\n","import { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            margin: theme.spacing(1),\n        },\n        header: {\n            margin: theme.spacing(4),\n        },\n        container: {\n            width: '100%',\n            maxWidth: 1000,\n        },\n        orderSuccess: {\n            padding: theme.spacing(2),\n            margin: theme.spacing(2),\n        },\n    })\n)\n","import { createStyles, makeStyles, Theme } from '@material-ui/core/styles'\n\nexport const useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        id: {\n            flexBasis: '17%',\n            alignSelf: 'center',\n        },\n        summary: {\n            [theme.breakpoints.down('xs')]: {\n                padding: theme.spacing(1),\n            },\n        },\n        heading: {\n            flexBasis: '33.33%',\n            flexShrink: 0,\n        },\n        secondaryHeading: {\n            color: theme.palette.text.secondary,\n            flexBasis: '33.33%',\n        },\n        container: {\n            width: '100%',\n            padding: 0,\n        },\n        product: {\n            display: 'flex',\n            padding: 0,\n            maxHeight: 200,\n            [theme.breakpoints.down(500)]: {\n                maxHeight: 400,\n                display: 'grid',\n                justifyContent: 'center',\n                justifyItems: 'center',\n                '& > div': {\n                    margin: theme.spacing(1),\n                },\n            },\n        },\n        imageContainer: {\n            margin: theme.spacing(1, 1, 1, 0),\n            alignSelf: 'center',\n            minWidth: 200,\n            maxWidth: 200,\n            display: 'flex',\n            '& img': {\n                maxWidth: 190,\n                maxHeight: 140,\n                display: 'block',\n                borderRadius: 4,\n            },\n        },\n        image: {\n            margin: 'auto',\n            backgroundColor: theme.palette.grey[100],\n            '& > button': {\n                borderRadius: 4,\n            },\n        },\n        data: {\n            maxHeight: 200,\n            display: 'flex',\n            width: '100%',\n            flexWrap: 'wrap',\n            '& > *': {\n                margin: theme.spacing(1, 0),\n            },\n        },\n        title: {\n            display: 'flex',\n            flexDirection: 'row',\n            alignItems: 'baseline',\n            cursor: 'pointer',\n            '& > span': {\n                marginRight: theme.spacing(0.5),\n            },\n            marginRight: theme.spacing(1),\n        },\n        price: {\n            marginLeft: 'auto',\n        },\n        address: {\n            display: 'flex',\n            flexWrap: 'wrap',\n            marginBottom: theme.spacing(2),\n        },\n        addressValues: {\n            display: 'flex',\n            flexDirection: 'row',\n            flexBasis: '40%',\n            margin: theme.spacing(0.25, 1),\n            '& > span': {\n                marginRight: 4,\n            },\n        },\n    })\n)\n","import React from 'react'\n\nimport { useTranslation } from 'react-i18next'\n\nimport { useStyles } from './OrderHolder.style'\nimport { Order, OrderedProduct } from '../../../../types'\nimport { ProductImg } from '../../../../components'\n\nimport Accordion from '@material-ui/core/Accordion'\nimport AccordionDetails from '@material-ui/core/AccordionDetails'\nimport AccordionSummary from '@material-ui/core/AccordionSummary'\nimport Typography from '@material-ui/core/Typography'\nimport List from '@material-ui/core/List'\nimport ListItem from '@material-ui/core/ListItem'\nimport Divider from '@material-ui/core/Divider'\nimport Paper from '@material-ui/core/Paper'\nimport Rating from '@material-ui/lab/Rating'\nimport ButtonBase from '@material-ui/core/ButtonBase'\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore'\n\nimport { DateUtils } from '../../../../utils'\nimport { ResourceService } from '../../../../api'\nimport { useProductService } from '../../../../services'\n\ninterface OrderHolderProps {\n    order: Order\n    resources: ResourceService\n    history: any\n}\n\nconst OrderHolder: React.FC<OrderHolderProps> = ({\n    order: o,\n    resources,\n    history,\n}) => {\n    const classes = useStyles()\n\n    const { t } = useTranslation()\n\n    const [expanded, setExpanded] = React.useState(false)\n\n    const handleChange = (e: any, isExpanded: boolean) =>\n        setExpanded(isExpanded)\n\n    const gotoProduct = (id: number) => () =>\n        history.push(`/product/${id}`, undefined)\n\n    const round = (n: number) => Math.round(n * 100) / 100\n\n    const total = round(\n        o.items.reduce<number>((v, p) => (v += p.amount * p.unitPrice), 0)\n    )\n\n    return (\n        <Accordion\n            className=\"order-holder\"\n            expanded={expanded}\n            onChange={handleChange}\n        >\n            <AccordionSummary\n                expandIcon={<ExpandMoreIcon className=\"accordion-expander\" />}\n                className={classes.summary}\n            >\n                <Typography variant=\"body2\" className={classes.id}>\n                    #{o.id}\n                </Typography>\n                <Typography className={classes.heading}>\n                    {DateUtils.format(o.date.seconds)}\n                </Typography>\n                <Typography className={classes.secondaryHeading}>\n                    {o.items.length}{' '}\n                    {t(o.items.length > 1 ? 'cart.items' : 'cart.item')}\n                </Typography>\n                <Typography className={classes.secondaryHeading}>\n                    {total} {'€'}\n                </Typography>\n            </AccordionSummary>\n            <AccordionDetails>\n                <List className={classes.container}>\n                    <Typography variant=\"h6\" color=\"textSecondary\">\n                        {t('address.address')}\n                    </Typography>\n                    <div className={classes.address}>\n                        {Object.entries(o.address).map(([k, v], i) =>\n                            i ? (\n                                <div key={i} className={classes.addressValues}>\n                                    <Typography\n                                        component=\"span\"\n                                        color=\"textSecondary\"\n                                    >\n                                        {t(`address.${k}`)}:\n                                    </Typography>\n                                    <Typography>{v}</Typography>\n                                </div>\n                            ) : (\n                                <div key={i}></div>\n                            )\n                        )}\n                    </div>\n                    {o.items.map((p, i) => (\n                        <OrderedProductHolder\n                            key={i}\n                            {...{ resources, product: p, gotoProduct }}\n                        />\n                    ))}\n                </List>\n            </AccordionDetails>\n        </Accordion>\n    )\n}\n\ninterface OrderedProductHolderProps {\n    product: OrderedProduct\n    resources: ResourceService\n    gotoProduct: any\n}\n\nconst OrderedProductHolder: React.FC<OrderedProductHolderProps> = ({\n    product: p,\n    resources,\n    gotoProduct,\n}) => {\n    const productService = useProductService()\n\n    const classes = useStyles()\n\n    const [rating, setRating] = React.useState<number | null>(\n        p.userRating ?? null\n    )\n\n    const id = p.product.id\n\n    const handleRating = (e: any, v: number | null) => {\n        if (v == null) return\n        setRating(v)\n        productService.rateProduct(id, v)\n    }\n\n    return (\n        <div>\n            <Divider />\n            <ListItem className={classes.product}>\n                <div className={classes.imageContainer}>\n                    <Paper className={classes.image}>\n                        <ButtonBase onClick={gotoProduct(p.product.id)}>\n                            <ProductImg\n                                url={p.product.mainImage}\n                                resources={resources}\n                            />\n                        </ButtonBase>\n                    </Paper>\n                </div>\n                <div className={classes.data}>\n                    <div className={classes.title}>\n                        <Typography\n                            variant=\"body2\"\n                            component=\"span\"\n                            color=\"textSecondary\"\n                        >\n                            {'x'}\n                            {p.amount}\n                        </Typography>\n                        <Typography onClick={gotoProduct(p.product.id)}>\n                            {p.product.name}\n                        </Typography>\n                    </div>\n                    <Rating\n                        className=\"rater\"\n                        name={`product-rating-${id}`}\n                        precision={0.5}\n                        value={rating}\n                        onChange={handleRating}\n                    />\n                    <Typography className={classes.price}>\n                        {p.amount * p.unitPrice} {'€'}\n                    </Typography>\n                </div>\n            </ListItem>\n        </div>\n    )\n}\n\nexport default OrderHolder\n","import OrderHolder from './OrderHolder'\n\nexport default OrderHolder\n","import OrderHistoryPage from './OrderHistoryPage'\n\nexport default OrderHistoryPage\n","import React from 'react'\n\nimport { Redirect, RouteComponentProps } from 'react-router'\n\nimport {\n    useOrdersService,\n    useUserService,\n    useSessionService,\n    useResourceService,\n} from '../../services'\n\nimport { useTranslation } from 'react-i18next'\n\nimport { useStyles } from './OrderHistoryPage.style'\nimport { Order, User } from '../../types'\nimport { ContentWarn, PageContainer } from '../../components'\n\nimport Typography from '@material-ui/core/Typography'\nimport Alert from '@material-ui/lab/Alert'\nimport HistoryIcon from '@material-ui/icons/History'\n\nimport { HttpStatusCode } from '../../utils'\nimport OrderHolder from './components'\n\ninterface OrderHistoryPageParams {\n    id?: string\n}\n\nconst OrderHistoryPage: React.FC<\n    RouteComponentProps<OrderHistoryPageParams>\n> = ({ match, history, location }) => {\n    const { t } = useTranslation()\n\n    const { id } = match.params\n\n    const state = location.state as any\n    const completedOrder = state?.done\n\n    const orderService = useOrdersService()\n    const userService = useUserService()\n    const sessionService = useSessionService()\n    const resources = useResourceService()\n\n    const session = sessionService.current()\n\n    const _id = parseInt(id ?? '')\n    const userId = isNaN(_id) || !session?.admin ? undefined : _id\n\n    const [user, setUser] = React.useState<User>()\n\n    const classes = useStyles()\n\n    React.useEffect(() => {\n        const fetchUser = async () => {\n            const r = await userService.getUser(userId!!)\n\n            switch (r.status) {\n                case HttpStatusCode.OK:\n                    setUser(r.data)\n                    break\n                case HttpStatusCode.NotFound:\n                    history.push('/404')\n            }\n        }\n\n        if (userId) fetchUser()\n    }, [history, userId, userService])\n\n    const NoHistory = () => (\n        <ContentWarn>\n            <HistoryIcon />\n            <Typography>{t('orders.empty')}</Typography>\n        </ContentWarn>\n    )\n\n    if (id && !session?.admin) return <Redirect to={'/history'} />\n\n    return (\n        <div className={classes.root}>\n            <header className={classes.header}>\n                <Typography variant=\"h4\" component=\"h1\">\n                    {t('orders.title')}\n                </Typography>\n                {userId && user && (\n                    <Typography\n                        variant=\"h6\"\n                        component=\"h2\"\n                        color=\"textSecondary\"\n                    >\n                        {user.nickname}\n                    </Typography>\n                )}\n            </header>\n\n            {completedOrder !== undefined && (\n                <Alert severity=\"success\" className={classes.orderSuccess}>\n                    {t('checkout.success').replace('{0}', completedOrder)}\n                </Alert>\n            )}\n\n            <PageContainer\n                request={(page) => orderService.getForUser({ page, userId })}\n                itemRender={(order: Order) => (\n                    <OrderHolder\n                        key={order.id}\n                        {...{ order, resources, history }}\n                    />\n                )}\n                EmptyComponent={NoHistory}\n                ContainerComponent={({ children }) => (\n                    <div className={classes.container}>{children}</div>\n                )}\n                {...{\n                    setShownItems: () => undefined,\n                    deps: [],\n                }}\n            />\n        </div>\n    )\n}\n\nexport default OrderHistoryPage\n","import React from 'react'\n\nimport { Redirect, Route, Switch } from 'react-router'\nimport { ErrorWrapperClass, NavigationBarWrapper } from '../components'\n\nimport { NavRoute } from '../routes'\nimport { SessionService } from '../services'\n\nimport { makeStyles, Theme, createStyles } from '@material-ui/core/styles'\nimport { ServerErrorHandlerListener } from '../utils'\nimport { useTranslation } from 'react-i18next'\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        base: {\n            display: 'flex',\n            flexDirection: 'column',\n            position: 'relative',\n            overflow: 'hidden',\n            minHeight: '100vh',\n            backgroundColor: theme.palette.background.default,\n        },\n    })\n)\n\ninterface RouteCheckProps {\n    props: any\n    route: NavRoute\n    sessionService: SessionService\n}\n\nconst CheckRedirect: React.FC<any> = ({ props, path }) => {\n    return (\n        <Redirect\n            to={{\n                pathname: path,\n                state: {\n                    from: props.location,\n                },\n            }}\n        />\n    )\n}\n\nconst RouteCheck: React.FC<RouteCheckProps> = ({\n    props,\n    route,\n    sessionService,\n}) => {\n    const { t } = useTranslation()\n\n    const RouteComponent = route.component\n    const admin = route.admin\n    const identified = route.identified || admin\n\n    const auth = sessionService.isAuth()\n    const logged = sessionService.isLogged()\n\n    if (!auth) {\n        sessionService\n            .auth()\n            .then(() =>\n                props.history.push(\n                    props.location.pathname,\n                    props.location.state\n                )\n            )\n        return <></>\n    }\n\n    if (admin && !sessionService.current()?.admin)\n        return <CheckRedirect path=\"/404\" {...{ props }} />\n\n    if (identified === true && !logged)\n        return <CheckRedirect path=\"/login\" {...{ props }} />\n\n    document.title = t('routes.base') + t('routes.' + route.id)\n\n    return <RouteComponent {...props} />\n}\n\ninterface BaseLayoutProps {\n    serverErrorHandler: ServerErrorHandlerListener\n    sessionService: SessionService\n    routes: NavRoute[]\n}\n\nconst BaseLayout: React.FC<BaseLayoutProps> = ({\n    sessionService,\n    serverErrorHandler,\n    routes,\n}) => {\n    const classes = useStyles()\n\n    return (\n        <div className={classes.base}>\n            <NavigationBarWrapper sessionService={sessionService} />\n\n            <Switch>\n                {routes.map((route) => (\n                    <Route\n                        key={route.id}\n                        path={route.path}\n                        render={(props) => (\n                            <RouteCheck\n                                {...{\n                                    props,\n                                    route,\n                                    sessionService,\n                                }}\n                            />\n                        )}\n                        exact\n                    />\n                ))}\n                <Redirect to=\"/404\" />\n            </Switch>\n\n            <ErrorWrapperClass serverErrorHandler={serverErrorHandler} />\n        </div>\n    )\n}\n\nexport default BaseLayout\n","import React from 'react'\n\nimport { BrowserRouter as Router } from 'react-router-dom'\n\nimport {\n    Login,\n    Logout,\n    Signup,\n    Home,\n    ProductPage,\n    ProductEdit,\n    PageNotFound,\n    Search,\n    Favorites,\n    CartPage,\n    VendorProfile,\n    ReportsPage,\n    CheckoutPage,\n    OrderHistoryPage,\n} from './containers'\n\nimport { BaseLayout } from './layout'\nimport { useSessionService } from './services'\nimport { useServerErrorHandler } from './utils'\n\nexport interface NavRoute {\n    id: string\n    path: string\n    component: React.FC<any>\n    identified?: boolean\n    admin?: boolean\n}\n\nconst routes: NavRoute[] = [\n    {\n        id: 'home',\n        path: '/',\n        component: Home,\n    },\n    {\n        id: 'search',\n        path: '/search/:query',\n        component: Search,\n    },\n    {\n        id: 'vendor',\n        path: '/vendor/:id',\n        component: VendorProfile,\n    },\n    {\n        id: 'cart',\n        path: '/cart',\n        component: CartPage,\n    },\n    {\n        id: 'product_publish',\n        path: '/product/publish',\n        component: ProductEdit,\n        identified: true,\n    },\n    {\n        id: 'product',\n        path: '/product/:id',\n        component: ProductPage,\n    },\n    {\n        id: 'product_edit',\n        path: '/product/:id/edit',\n        component: ProductEdit,\n        identified: true,\n    },\n    {\n        id: 'login',\n        path: '/login',\n        component: Login,\n    },\n    {\n        id: 'logout',\n        path: '/logout',\n        component: Logout,\n        identified: true,\n    },\n    {\n        id: 'signup',\n        path: '/signup',\n        component: Signup,\n    },\n    {\n        id: 'profile',\n        path: '/profile',\n        component: VendorProfile,\n        identified: true,\n    },\n    {\n        id: 'profile_edit',\n        path: '/profile/edit/:id?',\n        component: Signup,\n        identified: true,\n    },\n    {\n        id: 'favorites',\n        path: '/favorites',\n        component: Favorites,\n        identified: true,\n    },\n    {\n        id: 'reports',\n        path: '/reports/:id?',\n        component: ReportsPage,\n        admin: true,\n    },\n    {\n        id: 'checkout',\n        path: '/checkout',\n        component: CheckoutPage,\n        identified: true,\n    },\n    {\n        id: 'history',\n        path: '/history/:id?',\n        component: OrderHistoryPage,\n        identified: true,\n    },\n    {\n        id: '404',\n        path: '/404',\n        component: PageNotFound,\n    },\n]\n\nconst Routes = () => {\n    const sessionService = useSessionService()\n    const serverErrorHandler = useServerErrorHandler()\n\n    return (\n        <Router>\n            <BaseLayout\n                serverErrorHandler={serverErrorHandler}\n                sessionService={sessionService}\n                routes={routes}\n            />\n        </Router>\n    )\n}\n\nexport default Routes\n","import { createMuiTheme } from '@material-ui/core/styles'\n\nimport blue from '@material-ui/core/colors/blue'\nimport orange from '@material-ui/core/colors/orange'\n\nconst theme = createMuiTheme({\n    palette: {\n        type: 'light',\n        primary: {\n            light: blue[200],\n            main: blue[600],\n            dark: blue[900],\n        },\n        secondary: {\n            light: orange['A100'],\n            main: orange['A200'],\n            dark: orange['A700'],\n        },\n    },\n})\n\nexport { theme }\n","import React from 'react'\n\nimport Routes from './routes'\n\nimport ThemeProvider from '@material-ui/styles/ThemeProvider'\n\nimport { theme } from './themeConfig'\n\nconst App = () => {\n    return (\n        <ThemeProvider theme={theme}>\n            <Routes />\n        </ThemeProvider>\n    )\n}\n\nexport default App\n","import { ReportHandler } from 'web-vitals'\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n    if (onPerfEntry && onPerfEntry instanceof Function) {\n        import('web-vitals').then(\n            ({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n                getCLS(onPerfEntry)\n                getFID(onPerfEntry)\n                getFCP(onPerfEntry)\n                getLCP(onPerfEntry)\n                getTTFB(onPerfEntry)\n            }\n        )\n    }\n}\n\nexport default reportWebVitals\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './i18n'\nimport App from './App'\nimport reportWebVitals from './reportWebVitals'\n\nimport './index.css'\n\nReactDOM.render(<App />, document.getElementById('root'))\n\nreportWebVitals(/*console.log*/)\n"],"sourceRoot":""}